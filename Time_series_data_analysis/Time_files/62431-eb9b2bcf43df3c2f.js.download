"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[62431],{62431:function(a,b,c){c.r(b),c.d(b,{default:function(){return ar},getWorkToTotalLessonsMapping:function(){return an},sanitizePathCompletionMaps:function(){return ap}});var d=c(20348),e=c(19228),f=c.n(e),g=c(34099),h=c(89703),i=c(64516),j=c(54825),k=c(90625),l=c(87296),m=c(57732),n=c(42533),o=c(7981),p=c(20770),q=c(30623),r=c(3710),s=c(57698),t=c(30833),u=c(16984),v=c(17762),w=c(10422),x=c(19400),y=c(96865),z=c(26744),A=c(30732),B=c(65302),C=c(22760),D=c(7422),E=c(33157),F=c(90806),G=c(68467),H=c(98252),I=c(64577);function J(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function K(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function L(a){return function(a){if(Array.isArray(a))return J(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||M(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(a,b){if(a){if("string"==typeof a)return J(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return J(a,b)}}var N=function(a){var b=a.index;return(0,d.jsx)("div",{className:"flex flex-shrink-0 items-center justify-center rounded-full border border-solid border-gray-500 bg-gray-100 dark:bg-gray-A400",style:{letterSpacing:"0.25px",width:"30px"},children:b+1})},O=function(a){var b=a.completionTime,c=void 0===b?null:b;if(!c)return(0,d.jsx)(d.Fragment,{});var e=c.split(" "),f=parseInt(null==e?void 0:e[0]),g=parseInt(null==e?void 0:e[2]);return(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(E.Z,{className:"mr-2 flex-shrink-0 fill-primary dark:fill-primary-lightP1"}),(0,d.jsxs)("span",{className:"text-sm font-normal",children:["Est. Completion Time: ",!isNaN(f)&&f>0&&"".concat(f," hours")," ",!isNaN(g)&&g>0&&"".concat(g," minutes")]})]})},P=function(a){var b=a.index,c=a.parentWorkType,e=a.title;return c===t.dLO.PLAN?(0,d.jsxs)("div",{className:"flex items-start space-x-2 text-xl font-semibold",children:[(0,d.jsx)(N,{index:b}),(0,d.jsx)("p",{className:"m-0",children:e})]}):(0,d.jsx)("p",{className:"m-0 bg-gray-50 text-base font-bold dark:bg-dark-90",style:{letterSpacing:"0.5px"},children:"".concat(b+1,". ").concat(e)})},Q=function(a){var b=a.dataTestid,c=a.invertVisibleStatus,e=a.visible,f=a.visibleMapKey,g=function(a){a.preventDefault(),c(f)},h=e?s.Z:r.Z;return(0,d.jsx)(h,{className:"cursor-pointer dark:text-dark-contrastText flex-shrink-0 hover:bg-gray-100 dark:hover:text-primary-light dark:hover:bg-gray-A400 h-6 rounded-full select-none text-black w-6","data-testid":b,onClick:g})},R=function(a,b,c,d){var e,f;return a&&(!!(null===(e=a["".concat(b,"_").concat(c)])|| void 0===e?void 0:e[d])||!!(null===(f=a["".concat(b,"_").concat(c)])|| void 0===f?void 0:f.ALL_DONE))},S=function(a){var b=a.currentUrl,c=a.markAsCompleted,e=a.level,g=a.redirectUrl,h=a.title,i=a.isOptional,j=a.isStandaloneAssessment,k=a.isStandAloneProject,l=a.checklistLength,m=k||j,o=b===g;return(0,d.jsx)(f(),{href:g,passHref:!0,children:(0,d.jsx)("a",{className:"".concat(o?"bg-gray-200 dark:bg-gray-A400 ":"".concat(m?"bg-gray-100 dark:bg-dark-80 ":""),"dark:visited:text-dark-contrastText flex select-none items-center space-x-2 p-2 leading-6 visited:text-black ").concat(m?"my-1 py-4":""),style:{letterSpacing:"0.15px",paddingLeft:"".concat(32+24*e,"px")},children:(0,d.jsxs)("div",{className:"flex w-full",children:[(0,d.jsx)("div",{className:"".concat(m?"mt-px":"mt-1"),children:(0,d.jsx)(n.Z,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){K(a,b,c[b])})}return a}({},c?{background:"bg-primary-success",border:"border-gray-600 border-solid border",size:"14px"}:{border:"border-gray-500 dark:border-gray-900 border",background:"border border-solid bg-white ".concat(o?"dark:bg-gray-900":"dark:bg-dark-90"),size:"14px"}))}),(0,d.jsxs)("div",{className:"ml-2 flex h-full w-full items-center justify-between",children:[m?(0,d.jsxs)("div",{className:"-mt-px flex flex-col",children:[(0,d.jsxs)("span",{className:"flex",children:[j?(0,d.jsx)(A.default,{className:"h-4 w-4 fill-current text-black dark:text-dark-contrastText"}):(0,d.jsx)(C.Z,{className:"h-4 w-4 fill-current text-black dark:text-dark-contrastText"}),(0,d.jsx)("p",{className:"m-0 ml-2 font-sans text-xs font-bold uppercase leading-5 text-gray-A400 dark:text-dark-contrastText",style:{letterSpacing:"2.5px"},children:j?"Assessment":"Project"})]}),(0,d.jsx)("p",{className:"m-0 mt-2 break-words text-base font-bold leading-6",style:{letterSpacing:"0.5px"},children:h})]}):(0,d.jsx)("p",{className:"m-0 break-words text-sm leading-6",style:{letterSpacing:"0.15px"},children:h||t.Va9}),(0,d.jsxs)("div",{className:"flex gap-x-1",children:[!m&&i&&(0,d.jsx)("div",{className:"flex h-6 w-16 items-center justify-center rounded-sm border border-solid bg-gray-100 p-1 text-xs font-semibold tracking-wide text-gray-A200 dark:border-gray-A200 dark:bg-dark-90 dark:text-gray-700 ".concat(o?"border-dark-contrastText bg-gray-200 dark:bg-dark-70":"border-gray-200 bg-gray-100 dark:bg-dark-90"),children:"Optional"}),!!l&&(0,d.jsx)(H.default,{overlay:"This task has ".concat(l," subtask").concat(l>1?"s":""),position:t.ZJ9,overlayParentClasses:"ml-2",parentClasses:"h-6",trigger:"hover",children:(0,d.jsxs)("div",{className:"caption-text flex items-center justify-center text-gray-800",children:[(0,d.jsx)(G.Z,{className:"ml-2 mr-1 fill-current"}),l]})})]})]})]})})})},T=function(a){var b,c=a.completionMaps,e=a.assessmentProjectMaps,f=a.currentUrl,g=a.invertVisibleStatus,h=a.level,i=a.moduleAuthorId,j=a.moduleId,k=a.planAuthorId,l=a.planId,m=a.redirectUrl,n=a.visibleMap,o=a.title,p=a.workToTotalLessonsMap,q=a.isOptional,r=a.isParentOptional,s=(a.type,a.isPath),w=a.estimatedTime,y=a.urlSlug,z=(0,v.ix)(function(a){return a.paths.moduleCategories.data||{}}),A=(z.planTitle,z.optionalItems,function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(z,["planTitle","optionalItems"])),C="".concat(i,"_").concat(j),E=A[C]||[],F=E.filter(function(a){return a.id!==u.s}),G=n[C],H=(0,x.QO)(E,!0),J=H.optionalLessons,K=H.mandatoryLessons,M=L(J).concat(L(K)),N=q||!K.length?(0,D.hv)(M,c[C]):(0,I.Z)(K,c[C]).percentCompleted;return(0,d.jsxs)("div",{className:"my-1 flex flex-col",children:[(0,d.jsx)(U,{completionPercentage:N,currentUrl:f,hasContent:E.some(function(a){return!!a.pages.length}),invertVisibleStatus:g,level:h,moduleMapKey:C,moduleVisible:G,redirectUrl:m,title:o,isOptional:q||r,estimatedTime:w}),(0,d.jsx)("div",{className:"flex flex-col",children:!!G&&F.map(function(a,m){return(0,x.gA)(a.type)&&a.type!==t.j1J.COLLECTION_CATEGORY?(0,d.jsx)(V,{authorId:i,collectionId:j,completionMaps:c,assessmentProjectMaps:e,currentUrl:f,invertVisibleStatus:g,level:h,planAuthorId:k,planId:l,taskContent:{authorId:String(a.author_id),collectionId:String(a.collection_id),id:String(a.id),pageId:String(a.page_id),title:a.title,type:a.type,isParentOptional:q||r},visibleMap:n,workToTotalLessonsMap:p,workType:t.dLO.MODULE,isPath:s,urlSlug:y}):(0,d.jsx)(X,{authorId:i,categoryContent:{authorId:null,collectionId:null,id:null,pageId:null,pages:a.pages.map(function(a){return{authorId:a.author_id?String(a.author_id):null,collectionId:a.collection_id?String(a.collection_id):null,id:String(a.id),pageId:a.page_id?String(a.page_id):null,title:null!==(b=(0,B.hL)(E,a))&& void 0!==b?b:a.title,type:(0,x.gA)(a.type)?a.type:t.qen.COLLECTION_LESSON,isOptional:a.is_optional,isParentOptional:q||r,checklist_length:a.checklist_length}}),title:a.title,type:(0,x.gA)(a.type)?a.type:t.j1J.COLLECTION_CATEGORY},collectionId:j,completionMaps:c,currentUrl:f,index:m,invertVisibleStatus:g,level:h,parentWorkType:t.dLO.MODULE,planAuthorId:k,planId:l,visibleMap:n,workToTotalLessonsMap:p,isPath:s,urlSlug:y},a.id)})})]})},U=function(a){var b=a.completionPercentage,c=a.currentUrl,e=a.hasContent,g=a.invertVisibleStatus,h=a.level,i=a.moduleMapKey,j=a.moduleVisible,k=a.redirectUrl,m=a.title,n=a.isOptional,p=a.estimatedTime;return(0,d.jsx)(f(),{href:k,passHref:!0,children:(0,d.jsxs)("a",{className:"".concat(c===k?"bg-gray-200 dark:bg-dark-70 ":"bg-gray-100 dark:bg-dark-80 ","dark:visited:text-dark-contrastText flex flex-col justify-start space-y-2 p-4 visited:text-black dark:active:text-dark-contrastText ").concat(j&&"mb-2"),style:{paddingLeft:"".concat(32+24*h,"px")},children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(o.Z,{height:"14px",width:"14px"}),(0,d.jsx)("p",{className:"m-0 ml-2 text-xs font-bold leading-5",style:{letterSpacing:"2.5px"},children:"MODULE"})]}),(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsx)("p",{className:"m-0 mr-4 text-base font-bold",style:{letterSpacing:"0.5px"},children:m}),e&&(0,d.jsx)(Q,{dataTestid:i,invertVisibleStatus:g,visible:j,visibleMapKey:i})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("div",{className:"flex items-center",children:b>0||0===b&&!p?(0,d.jsxs)(d.Fragment,{children:[b<100?(0,d.jsx)(l.Z,{counterClockwise:!0,progress:b,radius:10,strokeWidth:4}):(0,d.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-success-dark",children:(0,d.jsx)(F.Z,{width:"16px",height:"16px",fill:"white"})}),(0,d.jsx)("p",{className:"m-0 ml-2 text-sm leading-6 text-black dark:text-dark-contrastText",style:{letterSpacing:"0.15px"},children:"".concat(b<100?b+"% completed":"Completed")})]}):(0,d.jsx)(O,{completionTime:p})}),n&&(0,d.jsx)("div",{className:"flex h-6 w-16 items-center justify-center rounded-sm border border-solid bg-gray-100 p-1 text-xs font-semibold tracking-wide text-gray-A200 dark:border-gray-A200 dark:bg-dark-90 dark:text-gray-700 ".concat(c===k?"border-dark-contrastText bg-gray-200 dark:bg-dark-70":"border-gray-200 bg-gray-100 dark:bg-dark-90"),children:"Optional"})]})]})})},V=function(a){var b,c,e,f,g,h=a.authorId,i=a.collectionId,j=a.completionMaps,l=a.assessmentProjectMaps,m=a.currentUrl,n=a.invertVisibleStatus,o=a.level,p=a.planAuthorId,q=a.planId,r=a.taskContent,s=a.visibleMap,u=a.workToTotalLessonsMap,v=a.workType,y=a.isPath,z=a.urlSlug,A=(0,x.FW)(r.type),B=r.type===t.RIu.STANDALONE_ASSESSMENT,C=r.type===t.RIu.PATH_EXTERNAL_ASSESSMENT,D=r.type===t.RIu.STANDALONE_PROJECT,E=r.type===t.RIu.PATH_EXTERNAL_PROJECT,F=r.type===t.j1J.PROJECT,G=r.type===t.j1J.ASSESSMENT,H=D||B,I=E||C||F||G,J=A?(0,w.Z)(r.authorId,r.collectionId,r.url_slug,!1,t.dLO.MODULE,p,q):(0,k.Z)({authorId:h,collectionId:i,assessmentId:(0,x.nM)(r.type)?r.id:null,id:(0,x.mz)(r.type)?r.id:null,courseUrlSlug:z,customWorkType:v,pathAuthorId:v===t.dLO.MODULE?p:null,pathId:v===t.dLO.MODULE?q:null}).viewUrl.href;return A?(0,d.jsx)(T,{completionMaps:j,assessmentProjectMaps:l,currentUrl:m,invertVisibleStatus:n,level:o+1,moduleAuthorId:r.authorId,moduleId:r.collectionId,planAuthorId:p,planId:q,redirectUrl:J,visibleMap:s,title:r.title,workToTotalLessonsMap:u,isOptional:r.isOptional,isParentOptional:r.isParentOptional,type:r.type,isPath:y,estimatedTime:r.estimatedTime,urlSlug:r.url_slug}):(0,d.jsx)(S,{currentUrl:m,markAsCompleted:H||I?(b=l,c=r.authorId,e=r.collectionId,f=r.pageId.toString(),b&&b["".concat(c,"_").concat(e,"_").concat(f)]===t.QVI.COMPLETED):R(j,h,i,r.id),level:o,redirectUrl:H?(0,k.Z)({authorId:r.authorId,collectionId:r.collectionId,assessmentId:B?r.pageId:null,projectId:D?r.pageId:null,customWorkType:t.dLO.MODULE,pathAuthorId:h,pathId:i}).viewUrl.href:I?(g=v===t.dLO.PATH,(0,k.Z)({authorId:g?p:h,collectionId:g?q:i,assessmentId:C||G?r.id:null,projectId:E||F?r.id:null,customWorkType:g?t.dLO.PATH:t.dLO.MODULE,pathAuthorId:g?null:p,pathId:g?null:q}).viewUrl.href):J,title:r.title,isOptional:!r.isParentOptional&&r.isOptional,isStandaloneAssessment:B||C||G,isStandAloneProject:D||E||F,checklistLength:r.checklist_length})},W=function(a){var b=a.connectData,c=a.is_plan_assigned,e=a.organizationId,f=a.planAuthorId,g=a.planId,h=(0,v.TL)(),i=null==b?void 0:b.connect_info.filter(function(a){return a.status===t.BMk.PENDING}),j=null==i?void 0:i.map(function(a){return{image:a.contact_image_url,name:a.full_name}});return b&&(0,d.jsxs)("div",{className:"my-1 flex cursor-pointer border-0 border-b border-t border-solid border-gray-200 bg-gray-100 py-4 pl-6 pr-4 dark:border-gray-A700 dark:bg-dark-80",onClick:function(){h(y.n.show(z.L0,{orgId:e,authorId:f,planId:g,data:b,disabled:!c},"w-full h-full sm:h-44 sm:-mt-52 sm:w-120"))},children:[(0,d.jsx)(q.Z,{className:"text-primary dark:text-primary-lightP1"}),(0,d.jsxs)("div",{className:"flex flex-grow flex-col pl-2",children:[(0,d.jsx)("h6",{className:"m-0 text-gray-A400 dark:text-dark-contrastText",children:"Connects This Week"}),(null==i?void 0:i.length)?(0,d.jsxs)("div",{className:"mt-3 flex flex-grow justify-between text-base",children:[(0,d.jsxs)("div",{children:[i.length," connects to go "]}),(0,d.jsx)(m.Z,{users:j})]}):(0,d.jsxs)("div",{className:"mt-3 flex justify-start text-primary-success",children:[(0,d.jsx)(p.Z,{className:"fill-current"}),(0,d.jsx)("p",{className:"m-0 ml-2 text-base",children:"Completed"})]})]})]})},X=function(a){var b=a.authorId,c=a.categoryContent,e=a.connectData,f=a.is_plan_assigned,g=a.collectionId,h=a.completionMaps,i=a.assessmentProjectMaps,j=a.currentUrl,k=a.index,l=a.invertVisibleStatus,m=a.level,n=a.parentWorkType,o=a.organizationId,p=a.planAuthorId,q=a.planId,r=a.visibleMap,s=a.workToTotalLessonsMap,u=a.isPath,v=a.urlSlug,w="".concat(b,"_").concat(g,"_").concat(k),x=r[w],y=!c.title||c.title===t.V4B;return n!==t.dLO.PATH?(0,d.jsxs)("div",{className:"flex flex-col",children:[!y&&(0,d.jsxs)("div",{className:"flex items-center justify-between p-4",style:{paddingLeft:"".concat(n===t.dLO.PLAN?24+16*m:32+24*m,"px")},children:[(0,d.jsx)(P,{index:k,parentWorkType:n,title:c.title}),(!!c.pages.length||e)&&(0,d.jsx)(Q,{dataTestid:w,invertVisibleStatus:function(a){return l(a)},visible:x,visibleMapKey:w})]}),(x||y)&&(0,d.jsxs)(d.Fragment,{children:[e&&(0,d.jsx)(W,{connectData:e,is_plan_assigned:void 0!==f&&f,organizationId:o,planAuthorId:p,planId:q}),c.pages.map(function(a,c){return(0,d.jsx)(V,{authorId:b,collectionId:g,completionMaps:h,assessmentProjectMaps:i,currentUrl:j,invertVisibleStatus:function(a){return l(a)},level:m,planAuthorId:p,planId:q,taskContent:a,visibleMap:r,workToTotalLessonsMap:s,workType:n,isPath:u,urlSlug:v},a.id)})]})]}):(0,d.jsx)("div",{className:"flex flex-col",children:(0,d.jsx)(V,{authorId:b,collectionId:g,completionMaps:h,assessmentProjectMaps:i,currentUrl:j,invertVisibleStatus:function(a){return l(a)},level:n===t.dLO.PLAN?m+1:m,planAuthorId:p,planId:q,taskContent:c,visibleMap:r,workToTotalLessonsMap:s,workType:n,isPath:u,urlSlug:v},c.id)})},Y=X,Z=c(73792),$=c(49342),_=c(86586),aa=c(74917),ab=c(56615),ac=c(86688);function ad(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function ae(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function af(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){ae(a,b,c[b])})}return a}function ag(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function ah(a,b){if(null==a)return{};var c,d,e=ai(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function ai(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function aj(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||ak(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ak(a,b){if(a){if("string"==typeof a)return ad(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return ad(a,b)}}var al=function(a){var b=a.planLink;return(0,d.jsx)(f(),{href:b,passHref:!0,children:(0,d.jsxs)("a",{className:"m-0 flex w-full select-none flex-row items-center p-4 pl-6 font-bold hover:bg-gray-buttonHover dark:hover:bg-gray-A400",style:{letterSpacing:"0.35px"},children:[(0,d.jsx)(j.Z,{className:"mr-4 fill-current text-gray-500"}),(0,d.jsx)("span",{children:"Back to Path Home"})]})})},am=function(a){var b=a.completionPercentage,c=void 0===b?0:b;return(0,d.jsxs)("div",{className:"!mb-4 mt-3.5 flex flex-col space-y-1 px-6",children:[(0,d.jsx)("p",{className:"m-0 text-xs font-semibold leading-5",style:{letterSpacing:"0.5px"},children:"".concat(Math.round(c),"% completed")}),(0,d.jsx)(aa.Z,{percentCompleted:c})]})},an=function(a){a.planTitle,a.connects,a.is_assigned,a.optionalItems,a.optionalItemsCount;var b=ah(a,["planTitle","connects","is_assigned","optionalItems","optionalItemsCount"]);return Object.entries(null!=b?b:{}).reduce(function(a,b){var c,d,e=aj(b,2),f=e[0],g=e[1];return ag(af({},a),ae({},f,null!==(d=null===(c=null==g?void 0:g.filter(function(a){return(!(0,x.gA)(a.type)||a.type===t.j1J.COLLECTION_CATEGORY)&&a.id!==u.s}))|| void 0===c?void 0:c.reduce(function(a,b){var c;return a+(null===(c=b.pages)|| void 0===c?void 0:c.filter(function(a){return!(0,x.gA)(a.type)||(0,x.mz)(a.type)}).length)},0))&& void 0!==d?d:0))},{})},ao=function(a){var b=a.planLink,c=a.planTitle;return(0,d.jsx)(f(),{href:b,passHref:!0,children:(0,d.jsx)("a",{className:"m-0 block select-none px-6 text-xl font-semibold hover:text-primary dark:hover:text-primary-light",style:{letterSpacing:"0.25px"},children:c})})},ap=function(a,b,c,d,e){var f={},g=0,h=null!=e?e:0;a&&b&&(f=Object.entries(a).reduce(function(a,e){var f=aj(e,2),i=f[0],j=f[1],k=aj(i.split("_"),3),l=k[1],m=k[2],n="".concat(l,"_").concat(m),o=b[n],p=!j.ALL_DONE;return(null==d?void 0:d.includes(n))||0!==h||(g+=Number(!p)*c[n]),a[n]=Object.entries(j).reduce(function(a,b){var c,e,f=aj(b,2),i=f[0],j=f[1],k=Number(i),l=(c=k,!!(null==(e=o)?void 0:e.filter(function(a){return!(0,x.gA)(a.type)||a.type===t.j1J.COLLECTION_CATEGORY}).find(function(a){return a.pages.find(function(a){return String(a.id)===String(c)})})));return j&&l&&(0!==h||p&&0===h)&&!((null==d?void 0:d.includes(n))||(null==d?void 0:d.includes("".concat(n,"_").concat(i))))&&g++,(isNaN(k)||l)&&j&&(a[i]=j),a},{}),a},{}));var i=Object.values(c).reduce(function(a,b){return a+b},0)-h;return{sanitizedMaps:f,completionPercentage:i?100*g/i:0}},aq=function(a){var b;return a&&1===a.length&&a[0].type===t.j1J.COLLECTION_CATEGORY&&"__default"===a[0].title?null===(b=a[0])|| void 0===b?void 0:b.pages:a},ar=function(a){var b,c,e,f,j=a.isParentPlan,k=a.isPlan,l=a.planAuthorId,m=a.planId,n=a.pathSlug,o=a.moduleAuthorId,p=a.moduleCollectionId,q=a.pageId,r=(0,v.TL)(),s=(0,g.useRouter)(),y=aj(h.useState({showSidebarCaret:!1,stateUpdatedOnNavigation:!1}),2),z=y[0],A=y[1],B=(0,v.ix)(function(a){return a.paths.moduleCategories.data||{}}),C=B.planTitle,D=B.connects,E=B.is_assigned,F=B.optionalItems,G=B.optionalItemsCount,H=ah(B,["planTitle","connects","is_assigned","optionalItems","optionalItemsCount"]),I=(0,v.ix)(function(a){return a.paths.moduleCategories.loaded}),J=(0,v.ix)(function(a){return a.paths.moduleCategories.loading}),K=(0,v.ix)(function(a){return a.paths.pathCompletion.data}),L=(0,v.ix)(function(a){return a.paths.pathCompletion.loaded}),M=(0,v.ix)(function(a){return a.paths.pathCompletion.loading}),N=(0,v.ix)(function(a){return a.user.info.data}),O=(0,v.ix)(function(a){return!!a.user.info.loaded||a.user.info.loggedOut}),P=(0,v.ix)(function(a){var b,c;return null===(b=a.author.collection.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:c.organization_id}),Q=s.asPath.split("?")[0],R=I&&!J,S=L&&!M,T=H||{},U=k||j?T["".concat(l,"_").concat(m)]:aq(T["".concat(l,"_").concat(m)]),V=(0,w.Z)(l,m,null,!1,j?t.dLO.PLAN:t.dLO.PATH),W=an(T),X=ap(null==K?void 0:K.maps,T,W,F,G);h.useEffect(function(){A(function(a){return ag(af({},a),{showSidebarCaret:!0})})},[]),h.useEffect(function(){R||r(Z.W.load(l,m,!1,!0))},[R]),h.useEffect(function(){!S&&R&&O&&(null==N?void 0:N.user_id)&&U&&r($.J.load(l,m,JSON.stringify(U),null,null))},[S,R,O]),h.useEffect(function(){if(R){var a=document.querySelector('[href="'.concat(Q,'"]'));if(a){var b=a.getBoundingClientRect();b.top+b.height>window.innerHeight&&a.scrollIntoView()}}},[R,z.stateUpdatedOnNavigation]);var aa=function(){return s.query.courseUrlSlug?"".concat(o||l,"/").concat(p||m).concat(q?"/".concat(q):""):Q};return h.useEffect(function(){R&&A(function(a){return ag(af({},a,Object.entries(T).reduce(function(a,b){var c=aj(b,2),d=c[0];return af({},a,c[1].reduce(function(a,b,c){var e;return ag(af({},a),(ae(e={},d,aa().includes(d.replace("_","/"))),ae(e,"".concat(d,"_").concat(c),b.pages.some(function(a){return aa().includes((0,x.FW)(a.type)||(0,x.g6)(a.type)||(0,x.qq)(a.type)?"".concat(a.author_id,"/").concat(a.collection_id):"".concat(d.replace("_","/"),"/").concat(a.id))})),e))},{}))},{})),{stateUpdatedOnNavigation:!a.stateUpdatedOnNavigation})})},[R,Q]),(0,d.jsx)(ab.C,{sidebarClass:"ed-grid-sidebar2",className:"flex flex-col bg-gray-50 dark:bg-dark-90",mainSidebar:!1,sidebarType:ac.mQ.PLAN,overlayType:ab.Z.BLUR,children:(0,d.jsxs)("div",{className:"no-scrollbar flex flex-col overflow-y-auto",children:[(0,d.jsx)(al,{planLink:V}),(0,d.jsx)(_.Z,{className:"w-full"}),R?(0,d.jsxs)("div",{className:"no-scrollbar py-4",children:[(0,d.jsx)(ao,{planLink:V,planTitle:C}),(0,d.jsx)(am,{completionPercentage:X.completionPercentage}),null===(b=null==U?void 0:U.filter(function(a){return a.id!==u.s}))|| void 0===b?void 0:b.map(function(a,b){return(0,d.jsx)(Y,{authorId:l,categoryContent:{authorId:j?null:a.author_id,collectionId:j?null:a.collection_id,id:j?null:a.id,pageId:String(a.page_id),pages:j||a.type===t.j1J.COLLECTION_CATEGORY?a.pages.map(function(a){return{authorId:String(a.author_id),collectionId:String(a.collection_id),id:String(a.id),pageId:a.page_id?String(a.page_id):null,title:null!==(c=a.instance_page_title)&& void 0!==c?c:a.title,type:a.type,isOptional:a.is_optional,checklist_length:null!==(e=null==a?void 0:a.checklist_length)&& void 0!==e?e:null,url_slug:a.course_url_slug,estimatedTime:a.estimatedTime}}):null,title:a.title,type:a.type,estimatedTime:null!==(f=a.estimatedTime)&& void 0!==f?f:null,url_slug:a.course_url_slug},connectData:null==D?void 0:D.find(function(b){return b.week_id===a.id}),is_plan_assigned:E,organizationId:P,collectionId:m,completionMaps:X.sanitizedMaps,assessmentProjectMaps:null==K?void 0:K.assessment_project_maps,currentUrl:Q,index:b,invertVisibleStatus:function(a){return A(function(b){return ag(af({},b),ae({},a,!b[a]))})},level:0,parentWorkType:j||k?t.dLO.PLAN:t.dLO.PATH,planAuthorId:l,planId:m,visibleMap:z,workToTotalLessonsMap:W,isPath:!j,urlSlug:n},a.id)})]}):(0,d.jsx)(i.Z,{className:"mt-4"})]})})}},87296:function(a,b,c){var d=c(20348),e=function(a,b,c,d){var e=c/d*(d-b);return a?-1*e:e},f=function(a){var b,c,f,g=a.radius,h=void 0===g?100:g,i=a.progress,j=void 0===i?0:i,k=a.steps,l=a.rotate,m=a.strokeWidth,n=void 0===m?2:m,o=a.strokeColor,p=a.trackStrokeColor,q=a.counterClockwise,r=void 0!==q&&q,s=a.children,t=void 0===s?null:s,u=2*h+n,v=2*Math.PI*h;return(0,d.jsxs)("div",{className:"relative flex justify-center",style:{width:"".concat(u,"px"),height:"".concat(u,"px")},children:[(0,d.jsxs)("svg",{className:"absolute",width:u,height:u,viewBox:"0 0 ".concat(u," ").concat(u),style:{transform:"rotate(".concat(void 0===l?-90:l,"deg)")},children:[(0,d.jsx)("circle",{cx:u/2,cy:u/2,r:h,fill:"none",className:"".concat(void 0===p?"text-gray-300 dark:text-gray-900":p," stroke-current"),strokeWidth:n,strokeDasharray:"".concat(v,", ").concat(v)}),(0,d.jsx)("circle",{cx:u/2,cy:u/2,r:h,fill:"none",className:"".concat(void 0===o?"text-primary-success":o," stroke-current"),strokeWidth:n,strokeDasharray:(b=r,c=j,f=v,b?"".concat(f*((c||100)/100),", ").concat(f):"".concat(f,", ").concat(f)),strokeDashoffset:e(r,j,v,void 0===k?100:k),strokeLinecap:"square"})]}),t&&(0,d.jsx)("span",{className:"text-2xl font-semibold leading-9",children:t})]})};b.Z=f},57732:function(a,b,c){c.d(b,{Z:function(){return k}});var d,e,f=c(20348),g=c(19050),h=c(89703);function i(){return(i=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var j=function(a){return h.createElement("svg",i({width:14,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),h.createElement("mask",{id:"mask0_1511_48799",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:15,height:14},d||(d=h.createElement("path",{fill:"currentColor",d:"M.5 0h14v14H.5z"}))),e||(e=h.createElement("g",{mask:"url(#mask0_1511_48799)"},h.createElement("path",{d:"M11.073 8.02V6.27h-1.75v-.874h1.75v-1.75h.875v1.75h1.75v.875h-1.75v1.75h-.875ZM5.75 6.826a1.955 1.955 0 0 1-1.444-.605 1.974 1.974 0 0 1-.598-1.437c0-.564.2-1.045.598-1.443.399-.399.88-.598 1.444-.598s1.045.199 1.444.598c.398.398.598.88.598 1.443 0 .555-.2 1.033-.598 1.437-.399.403-.88.605-1.444.605Zm-4.375 4.433V9.96c0-.282.078-.544.233-.787a1.61 1.61 0 0 1 .627-.569 8.375 8.375 0 0 1 1.743-.634 7.584 7.584 0 0 1 3.544 0 8.379 8.379 0 0 1 1.743.634c.262.136.471.326.627.569.155.243.233.505.233.787v1.298h-8.75Zm.875-.875h7V9.96a.547.547 0 0 0-.102-.32.86.86 0 0 0-.277-.248 8.162 8.162 0 0 0-1.538-.562 6.455 6.455 0 0 0-3.166 0 8.162 8.162 0 0 0-1.538.562.86.86 0 0 0-.277.248.547.547 0 0 0-.102.32v.423Zm3.5-4.433c.32 0 .596-.114.824-.343.229-.228.343-.503.343-.824 0-.32-.114-.595-.343-.824a1.125 1.125 0 0 0-.824-.342c-.32 0-.595.114-.824.342a1.124 1.124 0 0 0-.343.824c0 .321.115.596.343.824.229.229.503.343.824.343Z",fill:"currentColor"}))))},k=function(a){var b=a.users,c=a.enableTeamMemberProfileLink,d=void 0!==c&&c,e=a.maxThreshold,h=void 0===e?3:e,i=a.picSize,k=void 0===i?32:i,l=a.borderColor,m=a.ThresholdStyling,n=void 0===m?{backgroundColor:"bg-primary",fontColor:"text-white",fontSize:12}:m,o=a.onPlusIconClick,p=void 0===o?function(){return null}:o,q=a.addPerson,r=void 0!==q&&q,s=b.length>h?b.slice(0,h):b,t=b.length-s.length,u="-".concat(.625/32*k,"rem");return b?(0,f.jsxs)("div",{className:"flex",children:[s.map(function(a,b){var c;return(0,f.jsx)("div",{className:"flex",style:{zIndex:1*b,marginLeft:b?u:0},children:(0,f.jsx)(g.Z,{size:k,image:a.image,name:a.name,id:null===(c=a.id)|| void 0===c?void 0:c.toString(),className:"border-2 border-solid border-white dark:border-dark",isLetterAvatar:null==a.letterAvatar||a.letterAvatar,enableTeamMemberProfileLink:d})})}),(b.length>h||r)&&(0,f.jsx)("div",{className:"flex",style:{zIndex:s.length,marginLeft:u},children:(0,f.jsx)("div",{className:"flex flex-shrink-0 cursor-pointer items-center justify-center rounded-full ".concat(n.backgroundColor," border-2 border-solid dark:bg-dark-60 ").concat(void 0===l?"border-primary-lightP1 hover:border-none":l," dark:border-gray-700"),style:{width:k,height:k},children:(0,f.jsx)("p",{className:"m-0".concat(r?" flex items-center justify-center":""," capitalize ").concat(n.fontColor," dark:text-dark-contrastText"),style:{fontSize:n.fontSize,lineHeight:"32px"},onClick:function(){return p()},children:r?(0,f.jsx)(j,{className:"h-[0.875] w-[0.875]"}):"+".concat(t)})})})]}):null}},64577:function(a,b,c){c.d(b,{q:function(){return e}});var d=c(19400),e=function(a){var b=null==a?void 0:a[(0,d.hT)(a)],c=(0,d.YP)(a),e=f(c,b).percentCompleted;return e},f=function(a,b){if((b=b||{}).ALL_DONE)return{percentCompleted:100,lessonsCompleted:a.length};if(!a.length)return{percentCompleted:0,lessonsCompleted:0};var c=a.filter(function(a){return b[a]&& !1!==b[a].completed}).length;return{percentCompleted:Math.floor(c/a.length*100),lessonsCompleted:c}};b.Z=f},68467:function(a,b,c){var d,e,f=c(89703);function g(){return(g=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var h=function(a){return f.createElement("svg",g({width:24,height:24,viewBox:"0 0 24 24",stroke:"currentColor",className:"fill-current",xmlns:"http://www.w3.org/2000/svg"},a),d||(d=f.createElement("g",{clipPath:"url(#clip0_86_9282)"},f.createElement("path",{d:"M22 7h-9v2h9V7Zm0 8h-9v2h9v-2ZM5.5 11 2 7.5 3.4 6l2.1 2L9.8 4l1.4 1.4L5.5 11Zm0 8L2 15.5 3.4 14l2.1 2L9.8 12l1.4 1.4L5.5 19Z",fill:"current"}))),e||(e=f.createElement("defs",null,f.createElement("clipPath",{id:"clip0_86_9282"},f.createElement("path",{d:"M0 0h24v24H0z"})))))};b.Z=h},33157:function(a,b,c){var d,e=c(89703);function f(){return(f=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var g=function(a){return e.createElement("svg",f({width:20,height:20,viewBox:"0 0 20 20",fill:"current",xmlns:"http://www.w3.org/2000/svg"},a),d||(d=e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.2 5.8V2.5h.8A7.5 7.5 0 115.5 4l5.7 5.7-1.2 1.1-4.5-4.5a5.8 5.8 0 105.3-2v1.5H9.2zM10 15a.8.8 0 01-.8-.8c0-.5.3-.9.8-.9s.8.4.8.9c0 .4-.3.8-.8.8zm5-5c0-.5-.4-.8-.8-.8-.5 0-.9.3-.9.8s.4.8.9.8c.4 0 .8-.3.8-.8zm-9.2.8A.8.8 0 015 10c0-.5.4-.8.8-.8.5 0 .9.3.9.8s-.4.8-.9.8z",fill:"current"})))};b.Z=g},90806:function(a,b,c){var d,e=c(89703);function f(){return(f=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var g=function(a){return e.createElement("svg",f({width:24,height:24,viewBox:"0 0 24 24",fill:"current",xmlns:"http://www.w3.org/2000/svg"},a),d||(d=e.createElement("path",{d:"m8.795 15.875-4.17-4.17-1.42 1.41 5.59 5.59 12-12-1.41-1.41-10.59 10.58Z"})))};b.Z=g}}])
//# sourceMappingURL=62431-eb9b2bcf43df3c2f.js.map
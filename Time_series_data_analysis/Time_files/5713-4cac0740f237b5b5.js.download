"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5713],{32795:function(a,b,c){c.d(b,{TD:function(){return k},fd:function(){return j},kr:function(){return i}});var d=c(37513),e=c(84294);function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var g=function(a,b){return"/api/author/".concat(a,"/collection/").concat(b,"/concept")},h=function(a){var b,c,d;if(!(null===(b=a())|| void 0===b?void 0:null===(c=b.author)|| void 0===c?void 0:null===(d=c.concepts)|| void 0===d?void 0:d.data))throw Error("Concepts were not loaded")},i=function(a){var b=a.authorId,c=a.collectionId,f=a.name,i=a.comps;return function(a,j){var k=JSON.stringify(i);return(0,d.Z)({url:g(b,c),type:"POST",data:{name:f,json_data:k}}).then(JSON.parse).then(function(b){var c=b.id,d=b.usage_count;h(j),a(e._.update({id:c,name:f,comps:i,usageCount:d}))})}},j=function(a){var b=a.authorId,c=a.collectionId,i=a.conceptId,j=a.name,k=a.comps;return function(a,l){var m=k&&JSON.stringify(k);return(0,d.Z)({url:g(b,c)+"/".concat(i),type:"PUT",data:function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){f(a,b,c[b])})}return a}({},j&&{name:j},m&&{json_data:m})}).then(JSON.parse).then(function(b){var c=b.usage_count;h(l),a(e._.update({id:i,name:j,comps:k,usageCount:c}))})}},k=function(a){var b=a.authorId,c=a.collectionId,f=a.conceptId;return function(a,i){return(0,d.Z)({url:g(b,c)+"/".concat(f),type:"DELETE"}).then(function(){h(i),a(e._.remove({id:f}))})}}},23084:function(a,b,c){c.d(b,{M1:function(){return B},NJ:function(){return z},Os:function(){return r},VY:function(){return v},fy:function(){return y},hy:function(){return w},it:function(){return q},km:function(){return p},nK:function(){return C},ny:function(){return u},sn:function(){return A}});var d=c(37513),e=c(43664),f=c(62329),g=c(19132),h=c(27202);function i(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function j(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){i(a,b,c[b])})}return a}function k(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function l(a,b){if(null==a)return{};var c,d,e=m(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function m(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}var n="CourseCompletion",o=function(a,b,c){return"".concat(c,"_").concat(a,"_").concat(b)},p=function(a){var b=a.author_id,c=a.collection_id,e=o(b,c,n),f="userdata/map/".concat(e);return(0,d.Z)({url:"/api/".concat(f),type:"GET"})},q=function(a,b,c,e){var f=arguments.length>4&& void 0!==arguments[4]&&arguments[4];return(0,d.Z)({url:f?"/api/organization/".concat(c,"/").concat(e,"/plan/").concat(a,"/").concat(b,"/comments"):"/api/askforhelp/".concat(c,"/").concat(a,"/").concat(b,"/").concat(e),type:"GET"})},r=function(a){return function(b){return p(a).then(function(c){var d,e=i({},o(a.author_id,a.collection_id,n),JSON.parse(c));b(f.x.set(e)),null===(d=a.callback)|| void 0===d||d.call(a,e)}).catch(function(c){var d;(0,e.rU)(c,b,null,[404,401]),null===(d=a.callback)|| void 0===d||d.call(a)})}},s=function(a){var b=a.author_id,c=a.collection_id,e=a.payload,f=o(b,c,n),g="userdata/map/".concat(f);return(0,d.Z)({url:"/api/".concat(g),type:"POST",data:{map_key_val:JSON.stringify(e)}})},t=function(a){var b=a.author_id,c=a.collection_id,e=a.payload,f=a.prefix,g=a.path_id,i=a.path_author_id,j=a.projectId,k=void 0===j?void 0:j,l=a.attemptId,m=void 0===l?void 0:l,p=a.workType,q=k&&m?(0,h.Lc)({authorId:b,collectionId:c,documentId:k,attemptId:m,isProject:!0}):o(b,c,f||n);return(0,d.Z)({url:"/api/userdata/map/".concat(q,"/interaction?work_type=").concat(p),type:"POST",data:{map_key_val:JSON.stringify(e),path_id:void 0===g?void 0:g,path_author_id:void 0===i?void 0:i}})},u=function(a){return function(b){var c=a.payload.LAST_VISITED;return s(a).then(function(){return b(f.x.set({LAST_VISITED:c}))}).catch(function(a){return(0,e.rU)(a,b,null,[404])})}},v=function(a){return function(b){return t(k(j({},a),{prefix:"LessonTimeSpent"})).catch(function(a){return(0,e.rU)(a,b,null,[404])})}},w=function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:function(){},d=arguments.length>3&& void 0!==arguments[3]?arguments[3]:function(a){};return function(f){var g=a.workType,h=l(a,["workType"]),i=h.payload,m=i.resumable,n=l(i,["resumable"]),o=k(j({},h),{callback:c,payload:j(k(j({},n),{resumable:m}),b)});s(o).then(function(){return f(r(o)),d(!1),t(k(j({},h),{workType:g,payload:n}))}).catch(function(a){(0,e.rU)(a,f,null,[404]),d(!0)})}},x=function(a,b,c,e){var f=a.author_id,g=a.collection_id,h=a.resumable_work_author_id,i=o(f,g,n),j="/api/userdata/map/".concat(i,"?resumable_work=").concat(h,"_").concat(b,"&resumable_work_type=").concat(c);return e&&(j="".concat(j,"&has_external_work=").concat(e.toString())),(0,d.Z)({url:j,type:"DELETE"})},y=function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]&&arguments[3],g=arguments.length>4&& void 0!==arguments[4]?arguments[4]:function(a){};return function(h){return function(){var m=a.workType,p=l(a,["workType"]);return x(p,b,c,d).then(function(){var a=i({},o(p.author_id,p.collection_id,n),{});return h(f.x.set(a)),g(!1),t(k(j({},p),{workType:m,payload:{ALL_RESET:new Date().toString()}}))}).catch(function(a){g(!0),(0,e.rU)(a,h,null,[404])})}}},z=function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:function(a){};return function(c){return function(){var d=a.workType,f=l(a,["workType"]);return s(f).then(function(){c(r(f));var e,g=k(j({},a),{workType:d,payload:{ALL_DONE:null==a?void 0:null===(e=a.payload)|| void 0===e?void 0:e.ALL_DONE}});return b(!1),t(g)}).catch(function(a){b(!0),(0,e.rU)(a,c,null,[404])})}}},A=function(a){return function(b){return(0,d.Z)({url:"/api/userdata/interaction?work_type=".concat((0,g.Z)()),type:"POST",data:a}).catch(function(a){return(0,e.rU)(a,b,null,[404])})}},B=function(a){var b=a.workType,c=l(a,["workType"]);return function(a){return(0,d.Z)({url:"/api/userdata/widgetstime?work_type=".concat(b),type:"POST",data:c}).catch(function(b){return(0,e.rU)(b,a,null,[404])})}},C=function(a,b,c,d,e,f,g,h){return t({author_id:a,collection_id:b,payload:e,prefix:null,path_id:f,path_author_id:g,projectId:c,attemptId:d,workType:h})}},55327:function(a,b,c){c.d(b,{Ux:function(){return q},ns:function(){return p},uS:function(){return o}});var d=c(18154),e=c.n(d),f=c(20348),g=c(89703),h=c(93892),i=c(17762),j=c(34099),k=c(63691);function l(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}var o=(0,g.createContext)({userMentions:{},pageMentions:{},addMention:null,setMentionData:null}),p=function(a){var b,c,d,m,p=a.children,q=(0,g.useState)({}),r=q[0],s=q[1],t=(0,g.useState)({}),u=t[0],v=t[1],w=(0,i.ix)(function(a){return a.author.collection}),x=(0,i.ix)(function(a){return!a.user.info.loggedOut}),y=w.authorId,z=w.collectionId,A=null===(b=w.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:c.work_type,B=(0,j.useRouter)(),C=null!==(d=B.query.page_id)&& void 0!==d?d:B.query.pageId,D=(0,g.useState)(!1),E=D[0],F=D[1],G=function(a){s(function(b){return n({},b,a)})},H=function(a){v(function(b){return n({},b,a)})},I=function(a,b){b===k.Q.PEOPLE?G(a):H(a)},J=function(a,b){s(a),v(b)},K=(0,g.useCallback)((m=e().mark(function a(){var b,c,d,f;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,h.Vs)(y,z,C,A);case 2:J(d=(c=JSON.parse(b=a.sent)).user_mentions,f=c.page_mentions),F(!0);case 6:case"end":return a.stop()}},a)}),function(){var a=this,b=arguments;return new Promise(function(c,d){var e=m.apply(a,b);function f(a){l(e,c,d,f,g,"next",a)}function g(a){l(e,c,d,f,g,"throw",a)}f(void 0)})}),[y,z,C,A]);return(0,g.useEffect)(function(){!E&&x&&K()},[K,E,x]),(0,f.jsx)(o.Provider,{value:{userMentions:r,pageMentions:u,addMention:I,setMentionData:J},children:p})},q=function(a){return function(b){return(0,f.jsx)(o.Consumer,{children:function(c){return(0,f.jsx)(a,n({mentionContextData:c},b))}})}}},93892:function(a,b,c){c.d(b,{MO:function(){return y},Tw:function(){return w},Vs:function(){return x},Ws:function(){return A},YE:function(){return z}});var d=c(18154),e=c.n(d),f=c(17900),g=c(68830),h=c(63691),i=c(37513),j=c(4015),k=c(30833),l=c(32795),m=c(86932),n=c(96865),o=c(26744);function p(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function q(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){p(f,d,e,g,h,"next",a)}function h(a){p(f,d,e,g,h,"throw",a)}g(void 0)})}}function r(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function s(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){r(a,b,c[b])})}return a}function t(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var u=function(a,b,c){var d=b.name;f.YR.insertNodes(a,{type:"concept",name:d,children:[{text:d}]},{at:c})},v=function(a,b,c,d,e){var g=c.id,i=c.name,j=c.details,l=t(s({type:"mention",category:b,id:g},(h.Q.PAGE||h.Q.CONTENT_BLOCK)&&(null==j?void 0:j.url)?{details:{url:null==j?void 0:j.url,workType:k.Xpq[null==j?void 0:j.workType]||(null==j?void 0:j.workType)}}:{}),{children:[{text:" "}]});(b===h.Q.PAGE||b===h.Q.CONTENT_BLOCK)&&"url"in j?e(r({},g,{title:i,is_draft:null==j?void 0:j.isDraft,work_type:k.Xpq[null==j?void 0:j.workType]||(null==j?void 0:j.workType),is_deleted:!1}),b):"profile_image_url"in j&&"email"in j&&e(r({},g,t(s({name:i},j),{is_deleted:!1})),b),f.YR.insertNodes(a,l,{at:d})},w=function(a,b,c,d,e){"CONCEPT"===b?u(a,c,d):"details"in c&&v(a,b,c,d,e),g.F3.focus(a)},x=function(a,b,c,d){return(0,i.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/page/").concat(c,"/get_page_mentions").concat((0,j.N)({work_type:d})),type:"GET"},!1,!1,!1)},y=function(a){var b=a.filter(function(a){return"SlateHTML"===a.type}),c=[],d=[],e=new DOMParser;return e&&b.length&&b.forEach(function(a){var b,f=a.content.html;(null!==(b=Array.from(e.parseFromString(f,"text/html").getElementsByTagName("mention")))&& void 0!==b?b:[]).forEach(function(a){var b=a.getAttribute("category"),e=a.getAttribute("id");if(b===h.Q.PEOPLE)c.push(e);else{var f=a.getAttribute("work_type");d.push({id:e,work_type:f})}})}),{userMentions:c,pageMentions:d}},z=function(a,b,c,d,e){return function(f){f(n.n.show(o.ad,{status:"WAIT",text:"Creating"})),f((0,l.kr)({authorId:a,collectionId:b,name:c,comps:[]})).then(function(){f(n.n.show(o.ad,{status:"SUCCESS",text:"Created"})),u(d,{name:c,category:h.Q.CONCEPT},e)}).catch(function(){f(n.n.show(o.ad,{status:"ERROR",text:"Failed to create ".concat(c)}))})}},A=function(a,b,c,d,f,g){var h;return h=q(e().mark(function h(i,j){var k,l,n,o,p,r,s,t,u,v;return e().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return r=null,s=null,t=null,d.every(function(a){var b=null;return a.pages.every(function(a,d){return a.id!==parseInt(c)||(b=d,!1)}),!(b>=0)||(s=b,r=a.id,!1)}),h.next=5,i((0,m.ms)({author_id:a,collection_id:b},q(e().mark(function c(){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,i((0,m.x3)({author_id:a,collection_id:b,category_id:r,index:s,data:g,collectionType:f}));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},c)}))));case 5:return(v=null!==(u=null===(k=j().author)|| void 0===k?void 0:null===(l=k.collection)|| void 0===l?void 0:null===(n=l.instance)|| void 0===n?void 0:null===(o=n.details)|| void 0===o?void 0:null===(p=o.toc)|| void 0===p?void 0:p.categories)&& void 0!==u?u:[]).every(function(a){return a.id!==r||(t=a.pages.length>s+1?a.pages[s+1].page_id:null,!1)}),h.abrupt("return",t);case 9:case"end":return h.stop()}},h)})),function(a,b){return h.apply(this,arguments)}}},63691:function(a,b,c){var d,e;c.d(b,{Q:function(){return d}}),(e=d||(d={})).CONCEPT="CONCEPT",e.PEOPLE="PEOPLE",e.PAGE="PAGE",e.CONTENT_BLOCK="CONTENT_BLOCK"},97359:function(a,b,c){c.d(b,{F:function(){return h},V:function(){return g}});var d=function(a){return"write"===a.mode||a.editMode},e=function(a){var b=a.startDrag,c=a.parentIndex,d=a.index;return null==b||b(d,c),{parentIndex:c,index:d}},f=function(a){var b=a.endDrag;return null==b?void 0:b()},g={beginDrag:e,canDrag:d,endDrag:f},h={beginDrag:e,canDrag:d,endDrag:f}},66358:function(a,b,c){c.d(b,{k:function(){return g},t:function(){return f}});var d=c(7760),e=c(30833),f={hover:function(a,b,c){var d,f=b.getItem().index,g=a.index,i=b.getItem().parentIndex;if(b.getItemType()===a.type){if(!h(c,b,f,g))return;a.moveItem({itemIndex:f},{itemIndex:g}),b.getItem().index=g}else if(e.GbL.includes(c.props.data.type))return;if(void 0!==i&&i!==g&&!a.data.pages.length){var j={parentIndex:i,itemIndex:f},k={parentIndex:g};a.moveItem(j,k),b.getItem().index=0,b.getItem().parentIndex=k.parentIndex}}},g={hover:function(a,b,c){var d=b.getItem().index,e=a.index,f=a.parentIndex,g=b.getItem().parentIndex;if(f===g){if(!h(c,b,d,e))return;var i={parentIndex:f,itemIndex:d},j={parentIndex:f,itemIndex:e};a.moveItem(i,j),b.getItem().index=e}else{if(!h(c,b,d,e,!1))return;var k={parentIndex:g,itemIndex:d},l={parentIndex:f,itemIndex:e};a.moveItem(k,l),b.getItem().index=e,b.getItem().parentIndex=f}}};function h(a,b,c,e){var f=!(arguments.length>4)|| void 0===arguments[4]||arguments[4];if(f&&c===e)return!1;var g=(0,d.findDOMNode)(a).getBoundingClientRect(),h=(g.bottom-g.top)/3,i=g.bottom-g.top-h,j=b.getClientOffset().y-g.top;return(!(c<e)||!(j<i))&&(!(c>e)||!(j>h))}},8624:function(a,b,c){c.d(b,{Z:function(){return i}});var d=c(20348),e=c(89703),f=c(26604);function g(a){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function h(a,b){return(h=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var i=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&h(a,b)}(i,a);var b,c,e=(b=i,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,h=g(b);if(c){var i=g(this).constructor;f=Reflect.construct(h,arguments,i)}else f=h.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function i(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,i),a=e.apply(this,arguments),a.state={timestampString:null},a.convertDateToString=function(){var b=a.props,c=b.timestamp,d=b.format,e=b.relative,g=b.calendarFormat,h=b.filter,i=b.daysToAdd,j=b.advanced,k=(0,f.ZP)(c,d,e,g,h,!1,i,j);a.setState({timestampString:k})},a.render=function(){return(0,d.jsx)("span",{children:"".concat(a.props.preText).concat(a.state.timestampString)})},a}var j=i.prototype;return j.componentDidMount=function(){this.convertDateToString(),this.setRefreshTimer()},j.componentDidUpdate=function(a){(this.props.timestamp!==a.timestamp||this.props.format!==a.format||this.props.calendarFormat!==a.calendarFormat||this.props.relative!==a.relative)&&this.convertDateToString(),this.props.interval!==a.interval&&(a.interval>0&&clearInterval(this.intervalId),this.setRefreshTimer())},j.componentWillUnmount=function(){this.resetRefreshTimer()},j.setRefreshTimer=function(){this.props.interval>0&&(this.intervalId=setInterval(this.convertDateToString,1e3*this.props.interval))},j.resetRefreshTimer=function(){this.props.interval>0&&clearInterval(this.intervalId)},i}(e.Component);i.defaultProps={format:null,interval:0,relative:!1,calendarFormat:{sameDay:"[today at] h:mm a",lastDay:"[yesterday at] h:mm a",lastWeek:"[last] dddd [at] h:mm a",sameElse:"MM/DD/YYYY [at] h:mm a",nextDay:"[tomorrow at] h:mm a"},filter:null,daysToAdd:0,preText:"",advanced:!1}},77237:function(a,b,c){c.d(b,{b:function(){return d},x:function(){return e}});var d="LESSON_IN_PROGRESS",e="LESSON_COMPLETED"},70466:function(a,b,c){c.d(b,{AQ:function(){return l},P3:function(){return d},Q4:function(){return m},Wf:function(){return i},cy:function(){return k}});var d,e,f=c(36670),g=c(44641),h=c(32210);(e=d||(d={})).BANNER="banner",e.HEADER="header";var i=["#4363D8","#257970","#BA3CB4","#C15000","#1E832B","#911EB4","#007D99","#E6194B","#B63C3C","#5959EE",],j=function(a){return(0,f.a8)()?"0.0.0.0:".concat(a):(0,f.ZP)()?"editor.d.educative.io":(0,f.hN)()||(0,f.yv)()?"editor.educative.io":""},k=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:8890,b=j(a);return"".concat((0,f.a8)()?"http":"https","://").concat(b)},l=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:8890,b=j(a);return"".concat((0,f.a8)()?"ws":"wss","://").concat(b)},m=function(a){var b=h.clone(null!=a?a:{});return(0,g.retrocycle)(b)}},57417:function(a,b,c){c.r(b),c.d(b,{ViewCollectionArticlesPageComp:function(){return az},ViewCollectionArticlesPageForTest:function(){return aC}});var d=c(18154),e=c.n(d),f=c(20348),g=c(89703),h=c(80226),i=c.n(h),j=c(64889),k=c(30833),l=c(64577),m=c(86932),n=c(23084),o=c(6785),p=c(6302),q=c(33645),r=c(62205),s=c(26744),t=c(81378),u=c(77237),v=c(19400),w=c(12443),x=c(50150),y=c(89508),z=c(34099),A=c(96865),B=c(84294),C=c(46757),D=c(89763),E=c(19132),F=c(67699),G=c(47129),H=c(73792),I=c(20829),J=c(21955),K=c(98317),L=c(33834),M=c(62431),N=c(45514),O=c(49342),P=c(65302),Q=c(96566),R=c(33257),S=c(52888),T=c(61625),U=c(84487),V=c(36670),W=c(32173),X=c(17638),Y=c(32658),Z=c(55327),$=c(33352),_=c(58781),aa=c(67059),ab=c(63130);function ac(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function ad(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function ae(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function af(a){return(af=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function ag(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){ae(a,b,c[b])})}return a}function ah(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function ai(a,b){return(ai=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var aj=i()(function(){return Promise.all([c.e(49774),c.e(169),c.e(964),c.e(55032),c.e(42029),c.e(19711),c.e(39158),c.e(95668),c.e(57238),c.e(86758),c.e(96272),c.e(17687),c.e(46845),c.e(13117),c.e(74211),c.e(10508),c.e(90621),c.e(85220),c.e(56019),c.e(36991),c.e(51993),c.e(47940),c.e(81180),c.e(29437),c.e(39273),c.e(21440)]).then(c.bind(c,11828))},{loadableGenerated:{webpack:function(){return[11828]}}}),ak=i()(function(){return Promise.all([c.e(49774),c.e(169),c.e(964),c.e(42029),c.e(19711),c.e(39158),c.e(95668),c.e(86758),c.e(96272),c.e(17687),c.e(74211),c.e(10508),c.e(90621),c.e(85220),c.e(56019),c.e(36991),c.e(51993),c.e(81180),c.e(8576),c.e(45405)]).then(c.bind(c,8576))},{loadableGenerated:{webpack:function(){return[8576]}}}),al=i()(function(){return Promise.all([c.e(39158),c.e(58309),c.e(87285)]).then(c.bind(c,58309))},{loadableGenerated:{webpack:function(){return[58309]}}}),am=i()(function(){return Promise.all([c.e(49774),c.e(169),c.e(964),c.e(83765),c.e(63275),c.e(23656),c.e(34778),c.e(87491),c.e(42029),c.e(19711),c.e(39158),c.e(95668),c.e(8590),c.e(59360),c.e(25456),c.e(86758),c.e(96272),c.e(83455),c.e(17687),c.e(99667),c.e(81200),c.e(44300),c.e(49477),c.e(98835),c.e(74211),c.e(10508),c.e(40807),c.e(90621),c.e(85220),c.e(83818),c.e(98101),c.e(56019),c.e(36991),c.e(661),c.e(69277),c.e(51993),c.e(19717),c.e(55606),c.e(71729),c.e(21690),c.e(1890),c.e(76565),c.e(34802),c.e(8485),c.e(61980),c.e(65758),c.e(59326),c.e(69638)]).then(c.bind(c,79504))},{loadableGenerated:{webpack:function(){return[79504]}}}),an=i()(function(){return Promise.all([c.e(169),c.e(42029),c.e(39158),c.e(95668),c.e(56711),c.e(10508),c.e(85220),c.e(12678),c.e(63807),c.e(37887),c.e(69784),c.e(44896)]).then(c.bind(c,35034))},{loadableGenerated:{webpack:function(){return[35034]}}}),ao=i()(function(){return Promise.all([c.e(169),c.e(42029),c.e(39158),c.e(95668),c.e(10508),c.e(85220),c.e(51993),c.e(6052)]).then(c.bind(c,56140))},{loadableGenerated:{webpack:function(){return[56140]}}}),ap=i()(function(){return Promise.all([c.e(39158),c.e(29207)]).then(c.bind(c,29207))},{loadableGenerated:{webpack:function(){return[29207]}}}),aq=i()(function(){return Promise.all([c.e(49774),c.e(169),c.e(964),c.e(55032),c.e(42029),c.e(19711),c.e(39158),c.e(95668),c.e(57238),c.e(86758),c.e(96272),c.e(17687),c.e(46845),c.e(13117),c.e(74211),c.e(10508),c.e(90621),c.e(85220),c.e(56019),c.e(36991),c.e(51993),c.e(47940),c.e(81180),c.e(29437),c.e(39273),c.e(31273)]).then(c.bind(c,15161))},{loadableGenerated:{webpack:function(){return[15161]}}}),ar=i()(function(){return Promise.all([c.e(39158),c.e(68300)]).then(c.bind(c,68300))},{loadableGenerated:{webpack:function(){return[68300]}},loading:function(){return(0,f.jsx)("div",{})}}),as=i()(function(){return Promise.all([c.e(39158),c.e(20727)]).then(c.bind(c,62698))},{loadableGenerated:{webpack:function(){return[62698]}}}),at=function(a){return[k.j1J.STANDALONE_ASSESSMENT,k.j1J.STANDALONE_PROJECT,].includes(a)},au=function(a,b,c){var d,e,f,g,h=arguments.length>3&& void 0!==arguments[3]&&arguments[3],i={next:null,previous:null},j=(null==a?void 0:null===(d=a.instance)|| void 0===d?void 0:d.details)||{},l=j.author_id,m=j.collection_id,n=(null===(e=j.toc)|| void 0===e?void 0:e.categories)||[],o=(0,v.qp)(l,m,n,[],h).flattenTree,p=o.findIndex(function(a){var c=a.id;return String(b)===c});if(p<0)return null;var q=p===o.length-1,r=j.page_titles,s=o[p+1],t=o[p-1],u=j.is_plan?k.dLO.PLAN:(0,E.Z)(c.asPath);return u===k.dLO.MODULE?(f=String(j.path_author_id),g=String(j.path_id)):(f=String(l),g=String(m)),s&&(i.next=ag(ah(ag({},o[p+1]),{title:r[Number(s.id)]}),(0,v.FW)(o[p+1].type)?{workType:k.dLO.MODULE}:{authorId:l,collectionId:m,workType:u})),t&&(i.previous=ag(ah(ag({},o[p-1]),{title:r[Number(t.id)]}),(0,v.FW)(o[p-1].type)?{workType:k.dLO.MODULE}:{authorId:l,collectionId:m,workType:u})),q&&u===k.dLO.MODULE&&(i.next={authorId:String(j.next_content_author_id),collectionId:String(j.next_content_collection_id),id:String(j.next_content_id),type:j.next_content_type,title:j.next_content_title,workType:(0,v.mz)(j.next_content_type)?k.dLO.PLAN:k.dLO.MODULE}),i.next&&(i.next=ah(ag({},i.next),{pathAuthorId:f,pathId:g})),i.previous&&(i.previous=ah(ag({},i.previous),{pathAuthorId:f,pathId:g})),i},av=function(a){for(var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0,e=d?a+1:a-1;e<b.length&&e>=0;){if(!b[e])return null;if(null===(f=b[e])|| void 0===f?void 0:f.is_preview){var f,g,h=null===(g=b[e])|| void 0===g?void 0:g.id;if(h)return{id:h,title:c[h],showPreviewLink:!0};return null}d?e++:e--}},aw=function(a,b){var c,d,e,f,g,h,i,j,l,m,n,p=a.author,q=p.collection,r=p.collectionArticle,s=p.articleSnapshot.properties,t=a.user,u=t.courseCompletion,v=t.userApiKeys,w=t.widgetsData,x=t.info,y=a.loader,z=a.userCollectionArticle,A=a.collectionArticlePreview,B=a.widgets,D=a.paths,E=D.pathCompletion,F=D.moduleCategories,G=a.sidebar,H=G.toggle.sidebarCollapsed,I=a.userConfig,J=b.router,K=(0,o.Z)(J.asPath)?r:z,L=null!==(m=null==q?void 0:null===(c=q.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.api_keys)&& void 0!==m?m:[],M=B.ids.map(function(a){return B.entities[a]}),N=C.parseUrl(J.asPath).url;return{collection:q,courseCompletion:u,userApiKeys:v,widgetsData:w,apiKeys:L,loader:y,pageData:K,pageProps:!1===A.loading&& !0===A.loaded?A.data:{page_id:void 0,item_type:void 0,author_id:null==q?void 0:null===(e=q.instance)|| void 0===e?void 0:null===(f=e.details)|| void 0===f?void 0:f.author_id,collection_id:null==q?void 0:null===(g=q.instance)|| void 0===g?void 0:null===(h=g.details)|| void 0===h?void 0:h.collection_id},snapshotProperties:s.loaded?s.data:null,snapshotPropertiesLoading:!!s.loading,snapshotPropertiesLoaded:!!s.loaded,isVersions:(0,o.Z)(J.asPath),isPublished:null==q?void 0:q.is_published,comps:M,userInfo:null==x?void 0:x.data,userInfoLoaded:null==x?void 0:x.loaded,pageURL:N,isNonLessonPage:["/assessment","/project","/certificate","/cloudlab",].some(function(a){return N.endsWith(a)}),pathCompletion:E,moduleCategories:F,showSideBar:!H,userGamificationFeatureFlag:null!==(n=null==I?void 0:null===(i=I.data)|| void 0===i?void 0:null===(j=i.constants)|| void 0===j?void 0:j[k.zj2.USER_GAMIFICATION_STATE])&& void 0!==n?n:0,enableStandaloneCloudLabHomepage:null===(l=I.data)|| void 0===l?void 0:l.constants[k.zj2.ENABLE_STANDALONE_CLOUDLAB_HOMEPAGE]}},ax=function(a){return{setCollectionCompletion:function(b){var c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:function(a){};return(0,n.NJ)(b,c)(a)},reset:function(b,c,d,e){var f=arguments.length>4&& void 0!==arguments[4]?arguments[4]:function(a){};return(0,n.fy)(b,c,d,e,f)(a)},dispatch:a}},ay=(0,j.$j)(aw,ax),az=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&ai(a,b)}(g,a);var b,c,d=(b=g,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=af(b);if(c){var h=af(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:ac(d)});function g(){!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,g),a=d.apply(this,arguments),a.state={cover_image:{},is_draft_page:!1,previousNextArticles:null,pageCompletionStatus:{completionLoaded:!1,completionLoading:!1,completionStatus:{},markAsCompleted:{},showCompletingLoader:!1},page_id:null,mobileViewToggle:!1,markAsCompleteLoading:!1,resetCourseCompletionLoading:!1,enterprisePreviousNextContent:null,purchasingFreeCollection:!1,lessonsVisited:0,workCompleted:!1},a.defaultCustomizeFontCountdown=1200,a.customizeFontCountdown=a.defaultCustomizeFontCountdown,a.timerId=null,a.customizeFontCountdownStartTime=new Date,a.renderArticle=!1,a.handleTimer=function(){a.props.cookies.get("customizeFontCountdown")?0>=a.props.cookies.get("customizeFontCountdown")&&a.props.cookies.set("customizeFontCountdown",a.defaultCustomizeFontCountdown,{path:"/"}):a.props.cookies.set("customizeFontCountdown",a.defaultCustomizeFontCountdown,{path:"/"});var b=a.props.cookies.get("customizeFontCountdown");if(a.customizeFontCountdown=b,b>0){a.customizeFontCountdownStartTime=new Date;var c=setTimeout(function(){a.props.cookies.get("viewed_customize_fonts_feedback")||(a.customizeFontCountdown=0,a.props.cookies.set("viewed_customize_fonts_feedback",!0))},1e3*b);a.timerId=c}},a.courseCompletionCallback=function(){var b,c,d,e,f,g=arguments.length>0&& void 0!==arguments[0]?arguments[0]:null,h=a.props,i=h.collection,j=h.pageProps,k=null==i?void 0:null===(b=i.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:c.collection_id,l=null==i?void 0:null===(d=i.instance)|| void 0===d?void 0:null===(e=d.details)|| void 0===e?void 0:e.author_id,m=a.getPlanInfo(),n=null!==(f=null==g?void 0:g["CourseCompletion_".concat(l,"_").concat(k)])&& void 0!==f?f:a.setFakeLessons();a.setState(function(b){return{pageCompletionStatus:{markAsCompleted:ah(ag({},b.pageCompletionStatus.markAsCompleted),ae({},j.page_id,!((null==m?void 0:m.isPlanLesson)||(null==m?void 0:m.isPlanModule))||a.getPageCompletionStatus(n)===u.x)),completionStatus:ah(ag({},b.pageCompletionStatus.completionStatus),ae({},j.page_id,a.getPageCompletionStatus(n))),completionLoaded:!0,completionLoading:!1,showCompletingLoader:!1}}})},a.updateLessonsVisited=function(){a.setState(function(a){return{lessonsVisited:a.lessonsVisited+1}})},a.manageCompletion=function(b){var c=b.loaderValue,d=b.onlyLoader,e=void 0!==d&&d,f=b.onlyMarkAsCompleted,g=void 0!==f&&f,h=b.pageId;return!!h&&a.setState(function(a){var b,d=null===(b=a.pageCompletionStatus.markAsCompleted)|| void 0===b?void 0:b[h];return{pageCompletionStatus:ag(ah(ag({},a.pageCompletionStatus),{showCompletingLoader:c}),e?g?{markAsCompleted:ah(ag({},a.pageCompletionStatus.markAsCompleted),ae({},h,!d))}:{}:{markAsCompleted:ah(ag({},a.pageCompletionStatus.markAsCompleted),ae({},h,!d)),completionStatus:ah(ag({},a.pageCompletionStatus.completionStatus),ae({},h,d?u.b:u.x))})}})},a.onPageUnmount=function(){var b,c=(new Date-a.customizeFontCountdownStartTime)/1e3;null===(b=a.props.cookies)|| void 0===b||b.set("customizeFontCountdown",a.customizeFontCountdown-c,{path:"/"}),clearTimeout(a.timerId)},a.clearPageAction=function(){return a.props.isVersions?p.x.clear:q.m.clear},a.loggedInUser=function(){var b;return null===(b=a.props.userInfo)|| void 0===b?void 0:b.user_id},a.goBackToCollectionEditor=function(){var b=a.props.router.query.author_id,c=a.props.router.query.collection_id,d=a.props.router.query.page_id;a.props.isVersions?a.props.router.push("/pageeditor/".concat(b,"/").concat(c,"/").concat(d)):a.props.router.push("/collectioneditor/".concat(b,"/").concat(c))},a.getPageCompletionStatus=function(b){var c=a.props.pageProps.page_id;if(c){if(null==b?void 0:b.ALL_DONE)return u.x;var d=c.toString();if(({}).hasOwnProperty.call(b,d)){var e=b[d];if(e&&e.length>1&&!isNaN(Date.parse(e)))return u.x}}return u.b},a.setPageCompletionStatus=function(b,c){var d=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null,e=a.props.pageProps,f=e.author_id,g=e.collection_id,h=e.page_id,i=e.work_type,j=a.props,m=j.collection,o=j.pathCompletion,p=j.router,q=j.userInfo,r=j.moduleCategories,s=j.isPrivateContent,t=j.isPath,w=i===k.dLO.COLLECTION,x=(null==m?void 0:null===(W=m.instance)|| void 0===W?void 0:W.owned_by_reader)||!(null==m?void 0:null===(X=m.instance)|| void 0===X?void 0:null===(Y=X.details)|| void 0===Y?void 0:Y.is_priced),y=(null==q?void 0:q.user_id)===f,z=null==m?void 0:null===(Z=m.instance)|| void 0===Z?void 0:Z.details,A=z.path_id,B=z.path_author_id||f,C="".concat(h),F=new Date().toString(),G=b===u.x?F:null,H=null==z?void 0:null===($=z.toc)|| void 0===$?void 0:$.categories,I=(null===(_=a.props.courseCompletion)|| void 0===_?void 0:_["CourseCompletion_".concat(f,"_").concat(g)])||{},J=!!I.ALL_DONE,K=ah(ag({},I),(ae(ap={},C,G),ae(ap,"ALL_DONE",b===u.b?null:I.ALL_DONE),ap)),L=(0,E.Z)(null==p?void 0:p.asPath),N=(0,l.Z)((0,v.QO)(H,s).mandatoryLessons,K).percentCompleted,O=100===N,P=!!(null==q?void 0:null===(aa=q.enterprise)|| void 0===aa?void 0:null===(ab=aa.organizations)|| void 0===ab?void 0:null===(ac=ab.find)|| void 0===ac?void 0:ac.call(ab,function(a){return a.has_active_trial})),Q=(ae(aq={},C,G),ae(aq,"resumable",x&&!y&&!O),aq);Q.ALL_DONE=O?F:null;var R={},S=!!(null==m?void 0:null===(ad=m.instance)|| void 0===ad?void 0:ad.details.path_id)&&!!(null==m?void 0:null===(af=m.instance)|| void 0===af?void 0:af.details.path_author_id)&&(null==m?void 0:null===(ai=m.instance)|| void 0===ai?void 0:ai.details.work_type)===k.dLO.COLLECTION,T=!1;(null==m?void 0:null===(aj=m.instance)|| void 0===aj?void 0:null===(ak=aj.details)|| void 0===ak?void 0:ak.work_type)===k.dLO.COLLECTION&&O&&!S&&((0,D.qP)(D.f2.LEARNING_CONTENT_COMPLETION,D.bt.SUCCESS_COMPLETE_COURSE,null!==(at=null==m?void 0:null===(ar=m.instance)|| void 0===ar?void 0:null===(as=ar.details)|| void 0===as?void 0:as.url_slug)&& void 0!==at?at:"".concat(f,"_").concat(g)),T=!0),L===k.dLO.MODULE?(R={resumable_work_id:A,resumable_work_author_id:B,module_id:g,author_id:f},S&&(R=ah(ag({},R),{has_external_work:"true"})),O&&(0,D.qP)(D.f2.ENTERPRISE,D.bt.CLICKED_COMPLETED_MODULE,"",null,{trial_active:P,content_id:"".concat(f,"-").concat(g),is_assigned:!(null==m?void 0:null===(au=m.instance)|| void 0===au?void 0:null===(av=au.details)|| void 0===av?void 0:av.is_assigned)})):R={resumable_work_id:g,resumable_work_author_id:f,author_id:f};var U={author_id:f,collection_id:g,payload:Q,workType:S?k.dLO.MODULE:null==m?void 0:null===(al=m.instance)|| void 0===al?void 0:al.details.work_type};a.props.dispatch((0,n.hy)(U,R,function(){return a.setState(function(a){return{pageCompletionStatus:ah(ag({},a.pageCompletionStatus),{completionStatus:ah(ag({},a.pageCompletionStatus.completionStatus),ae({},c,b))}),workCompleted:T&&!J}},function(){return a.manageCompletion({onlyLoader:!0,onlyMarkAsCompleted:!0,loaderValue:!1,pageId:c})})},function(b){return a.updatePathCompletionMaps(b,C,t,o.loaded,o.loading,G)}));var V=a.getPlanInfo();if((V.isPlanModule||V.isPlanLesson||t)&&Object.keys(null!==(aw=r.data)&& void 0!==aw?aw:{}).length&&Object.keys(null!==(ax=null===(am=o.data)|| void 0===am?void 0:am.maps)&& void 0!==ax?ax:{}).length){var W,X,Y,Z,$,_,aa,ab,ac,ad,af,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA=r.data,aB=(aA.planTitle,function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(aA,["planTitle"])),aC=ah(ag({},o.data.maps),ae({},"CourseCompletion_".concat(f,"_").concat(g),ah(ag({},o.data.maps["CourseCompletion_".concat(f,"_").concat(g)]),ae({},"".concat(h),b===u.b?null:new Date().toString()))));100===(0,M.sanitizePathCompletionMaps)(aC,r.data,(0,M.getWorkToTotalLessonsMapping)(aB),null===(ay=r.data)|| void 0===ay?void 0:ay.optionalItems,null===(az=r.data)|| void 0===az?void 0:az.optionalItemsCount).completionPercentage&&(0,D.qP)(D.f2.ONBOARDING,D.bt.PLAN_COMPLETED)}else!(V.isPlanModule||V.isPlanLesson)&&O&&L!==k.dLO.MODULE&&(0,D.qP)(D.f2.ENTERPRISE,w?D.bt.CLICKED_COMPLETED_COURSE:D.bt.CLICKED_COMPLETED_SKILL_PATH,"",null,{trial_active:P,content_id:"".concat(f,"-").concat(g),is_assigned:!!(null==m?void 0:null===(an=m.instance)|| void 0===an?void 0:null===(ao=an.details)|| void 0===ao?void 0:ao.is_assigned)});d&&d(T)},a.logWidgetInteraction=function(b){return function(c){return function(d){return function(e){var f,g,h,i,j,l=a.props,m=l.collection,o=l.pageProps,p=l.router,q=o.author_id,r=o.collection_id,s=o.page_id,t=o.external_author_id,u=o.external_collection_id,v=o.external_page_id,w=(0,E.Z)(p.asPath)===k.dLO.MODULE&&(null==m?void 0:null===(f=m.instance)|| void 0===f?void 0:f.details.work_type)===k.dLO.COLLECTION;if(!q)return setTimeout(function(){return a.logWidgetInteraction(b)(c)(d)(e)},3e3);var x={author_id:v?t:q,collection_id:v?u:r,page_id:s,is_draft_page:b,comp_id:c,comp_type:d,interaction_map:JSON.stringify(e),path_author_id:w?null==m?void 0:null===(g=m.instance)|| void 0===g?void 0:g.details.path_author_id:Number(null==m?void 0:null===(h=m.instance)|| void 0===h?void 0:h.details.author_id),path_id:w?null==m?void 0:null===(i=m.instance)|| void 0===i?void 0:i.details.path_id:Number(null==m?void 0:null===(j=m.instance)|| void 0===j?void 0:j.details.collection_id)};return a.props.dispatch((0,n.sn)(x))}}}},a.resetCollectionCompletionStatus=function(b,c){var d,e,f,g,h,i,j=a.props,l=j.collection,m=j.pageProps,n=j.pathCompletion,o=m.author_id,p=!!(null==l?void 0:null===(d=l.instance)|| void 0===d?void 0:d.details.path_id)&&!!(null==l?void 0:null===(e=l.instance)|| void 0===e?void 0:e.details.path_author_id)&&(null==l?void 0:null===(f=l.instance)|| void 0===f?void 0:f.details.work_type)===k.dLO.COLLECTION,q=(null==l?void 0:null===(g=l.instance)|| void 0===g?void 0:null===(h=g.details)|| void 0===h?void 0:h.is_plan)||(null==l?void 0:null===(i=l.instance)|| void 0===i?void 0:i.details.is_parent_plan);a.props.dispatch(A.n.show(s.zN,{onConfirm:function(){var d,e;a.setState({resetCourseCompletionLoading:!0}),a.props.reset(ah(ag({},m),{resumable_work_author_id:(null==l?void 0:null===(d=l.instance)|| void 0===d?void 0:d.details.path_author_id)||o,workType:p?k.dLO.MODULE:null==l?void 0:null===(e=l.instance)|| void 0===e?void 0:e.details.work_type}),b,c,p,function(b){a.setState(function(a){return{resetCourseCompletionLoading:!1,pageCompletionStatus:ah(ag({},a.pageCompletionStatus),{completionStatus:{}})}}),a.updatePathCompletionMaps(b,"ALL_DONE",q,n.loaded,n.loading,null)})()},cancelText:"Cancel",confirmText:"Reset",title:"Warning",description:"Resetting will set the course completion percentage to zero. This will not reset your saved changes e.g. code in the lessons."}))},a.updateOwnerShip=null;var a,b,c=ac(a);return a.purchaseFreeCollection=(b=e().mark(function a(){var b,d,f,g,h,i,j,k,l,n,o,p,q,r,t,u,v,w;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(h=(g=c.props).collection,i=g.userInfo,j=g.router,k=g.dispatch,l=(null===(b=h.instance)|| void 0===b?void 0:b.details.price)===0||(null===(d=h.instance)|| void 0===d?void 0:d.details.discounted_price)===0,n=null===(f=h.instance)|| void 0===f?void 0:f.owned_by_reader,!(c.loggedInUser()&&l&&!n&&!c.state.purchasingFreeCollection)){a.next=17;break}if(o=null==i?void 0:i.is_user_subscribed){a.next=16;break}return r=null===(p=h.instance)|| void 0===p?void 0:p.details.author_id,t=null===(q=h.instance)|| void 0===q?void 0:q.details.collection_id,c.setState({purchasingFreeCollection:!0}),(0,D.qP)(D.f2.BUY,D.bt.BUY_INIT_COURSE_HOME),u=(0,R.We)(),v=(0,R.bB)(),w=ag({checkout_type:T.vl.COURSE_PURCHASE,author_id:r,work_id:t,expected_price:0,last_referral_site:(0,Q.rT)(),referral_site:(0,Q.Ar)(),is_zero_priced_course_buy:!0,work_type:"collection"},u,v),a.abrupt("return",(0,S.eJ)(w).then(function(){k((0,m.Ae)()),c.updateOwnerShip=function(){k((0,m.Ae)())}}).catch(function(a){var b;c.props.dispatch(A.n.show(s.ad,{status:"ERROR",text:null===(b=a.responseJSON)|| void 0===b?void 0:b.errorText})),c.setState({purchasingFreeCollection:!1}),j.push(j.query.course_url_slug?"/courses/".concat(j.query.course_url_slug):"/collection/".concat(j.query.author_id,"/").concat(j.query.collection_id))}));case 16:k((0,m.Ae)());case 17:case"end":return a.stop()}},a)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){ad(f,d,e,g,h,"next",a)}function h(a){ad(f,d,e,g,h,"throw",a)}g(void 0)})}),a.setCollectionCompletionStatus=function(){var b,c,d,e,f,g,h,i,j,l,m=arguments.length>0&& void 0!==arguments[0]?arguments[0]:null,n=a.props,o=n.pathCompletion,p=n.setCollectionCompletion,q=n.userInfo,r=n.collection,t=n.userGamificationFeatureFlag,u=n.isPath,v=n.isPrivateContent,w=n.pathType,x=a.props.pageProps,y=x.author_id,z=x.collection_id,B=!!(null==r?void 0:null===(b=r.instance)|| void 0===b?void 0:b.details.path_id)&&!!(null==r?void 0:null===(c=r.instance)|| void 0===c?void 0:c.details.path_author_id)&&(null==r?void 0:null===(d=r.instance)|| void 0===d?void 0:d.details.work_type)===k.dLO.COLLECTION,C={ALL_DONE:new Date().toString(),resumable:!1,resumable_work_id:null!=m?m:z,resumable_work_author_id:(null==r?void 0:null===(e=r.instance)|| void 0===e?void 0:e.details.path_author_id)||y,author_id:y};m&&(C=B?Object.assign({},C,{module_id:z,has_external_work:(!0).toString()}):Object.assign({},C,{module_id:z}));var E={author_id:y,collection_id:z,payload:C,workType:B?k.dLO.MODULE:null==r?void 0:null===(f=r.instance)|| void 0===f?void 0:f.details.work_type},F=null==r?void 0:null===(g=r.instance)|| void 0===g?void 0:g.owned_by_reader,G=null==r?void 0:null===(h=r.instance)|| void 0===h?void 0:h.details,H=!!q&&q.user_id===y,I=(null==r?void 0:null===(i=r.instance)|| void 0===i?void 0:null===(j=i.details)|| void 0===j?void 0:j.is_plan)||(null==r?void 0:null===(l=r.instance)|| void 0===l?void 0:l.details.is_parent_plan);(null==q?void 0:q.user_id)&&(G.is_priced&&F||!G.is_priced||H)&&a.props.dispatch(A.n.show(s.zN,{onConfirm:function(){var b,c,d,e,f,g,h,i,j,l,m;a.setState({markAsCompleteLoading:!0,workCompleted:(null==r?void 0:null===(b=r.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:c.work_type)===k.dLO.COLLECTION&&!B}),p(E,function(b){a.setState({markAsCompleteLoading:!1}),a.updatePathCompletionMaps(b,"ALL_DONE",I,o.loaded,o.loading,new Date().toString())})(),(null==r?void 0:null===(d=r.instance)|| void 0===d?void 0:null===(e=d.details)|| void 0===e?void 0:e.work_type)!==k.dLO.COLLECTION||B||(0,D.qP)(D.f2.LEARNING_CONTENT_COMPLETION,D.bt.SUCCESS_COMPLETE_COURSE,null!==(m=null==r?void 0:null===(f=r.instance)|| void 0===f?void 0:null===(g=f.details)|| void 0===g?void 0:g.url_slug)&& void 0!==m?m:"".concat(y,"_").concat(z)),a.props.userGamificationContext.incrementStreak({userInfo:q,isLastTask:!0,userGamificationFeatureFlag:isNaN(Number(t))?0:Number(t),isWorkCompleted:(null==r?void 0:null===(h=r.instance)|| void 0===h?void 0:null===(i=h.details)|| void 0===i?void 0:i.work_type)===k.dLO.COLLECTION&&!B,toastType:W.rS.CURRENT_LESSON,workType:u?v?k.dLO.PRIVATE_PATH:"path_".concat(w):null==r?void 0:null===(j=r.instance)|| void 0===j?void 0:null===(l=j.details)|| void 0===l?void 0:l.work_type})},cancelText:"Cancel",confirmText:"Complete",title:"Confirmation",description:"Are you sure you want to mark this course as 100% completed?"}))},a.setFakeLessons=function(){var b=a.props.collection;if(Object.keys(b).length){var c,d=null===(c=b.instance)|| void 0===c?void 0:c.details.page_titles;if(d)return Object.keys(d).reduce(function(a,b){return ah(ag({},a),ae({},b,null))},{})}return{}},a.handleClaimCertificateLocal=function(){var b,c,d;return(0,G.ZI)(null===(b=a.props.collection.instance)|| void 0===b?void 0:b.details.author_id,null===(c=a.props.collection.instance)|| void 0===c?void 0:c.details.collection_id,a.props.router,null===(d=a.props.collection.instance)|| void 0===d?void 0:d.details.work_type)},a.buyCertificateLocal=function(){return(0,G.lV)(a.props.collection,a.props.router)},a.getPathShot=function(a,b){var c=!0,d=!1,e=void 0;try{for(var f,g=a[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value,i=!0,j=!1,l=void 0;try{for(var m,n=h.pages[Symbol.iterator]();!(i=(m=n.next()).done);i=!0){var o=m.value;if(b&&o.id===b&&o.type===k.RIu.SHOT)return o}}catch(p){j=!0,l=p}finally{try{i||null==n.return||n.return()}finally{if(j)throw l}}}}catch(q){d=!0,e=q}finally{try{c||null==g.return||g.return()}finally{if(d)throw e}}return null},a.getSelections=function(b,c,d,e,f,g,h){var i,j,k=a.props,l=k.dispatch,m=k.collection,n=k.router,o=n.query,p=null==m?void 0:m.is_guide,q=!o.encodedPathInfo&&!!(null==m?void 0:null===(i=m.instance)|| void 0===i?void 0:null===(j=i.details)|| void 0===j?void 0:j.is_standalone_module);l(A.n.show(s.dq,{result:b,categories:c,collectionId:d,authorId:e,url_slug:f,pathId:g,pathAuthorId:h,navigateToHighlight:N.Gj,isStandaloneModule:q,collectionIsGuide:p})),(0,D.qP)(D.f2.COURSE,D.bt.VIEW_USER_HIGHLIGHTS,"OPEN")},a.onNotesClick=function(){var b,c,d,e,f,g=a.props,h=g.collection,i=g.router,j=h.collectionId,l=h.authorId,m=null==h?void 0:null===(b=h.instance)|| void 0===b?void 0:b.details.path_id,n=null==h?void 0:null===(c=h.instance)|| void 0===c?void 0:c.details.path_author_id,o=null==h?void 0:null===(d=h.instance)|| void 0===d?void 0:d.details.url_slug,p=(null===(f=null==h?void 0:null===(e=h.instance)|| void 0===e?void 0:e.details.toc)|| void 0===f?void 0:f.categories)||[],q=null==p?void 0:p.reduce(function(a,b){return a.concat(b.pages.reduce(function(a,b){return a.concat([k.RIu.LESSON,k.RIu.SHOT].includes(null==b?void 0:b.type)?[ag({},b.type===k.RIu.LESSON?{author_id:b.author_id,collection_id:b.collection_id,page_id:b.page_id}:{shot_id:b.page_id}),]:[])},[]))},[]);a.promise=(0,F.vu)(j,(0,E.Z)(null==i?void 0:i.asPath),{external_lessons_data:JSON.stringify(q)}).then(JSON.parse).then(function(b){return a.getSelections(b,p,j,l,o,m,n)})},a.handleSaveWidgetUserData=function(b,c){var d=c.compId,e=c.reset,f=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null,g=a.props,h=g.userInfo,i=g.router,j=g.pageProps,k=g.collection,l=g.comps,m=g.dispatch;return(0,N.uN)(b,d,e,null==h?void 0:h.user_id,i,j,k,l,m,f)},a.getPlanInfo=function(){var b,c,d=Object.keys(a.props.collection).length?a.props.collection:a.props.ssrContent;return{isPlanLesson:null==d?void 0:null===(b=d.instance)|| void 0===b?void 0:b.details.is_plan,isPlanModule:null==d?void 0:null===(c=d.instance)|| void 0===c?void 0:c.details.is_parent_plan}},a.updatePathCompletionMaps=function(b,c,d,e,f,g){return d&&!b&&e&&!f&&a.props.dispatch(O.J.updateMap({authorId:String(a.props.pageProps.author_id),collectionId:String(a.props.pageProps.collection_id),key:c,value:g}))},a.getContentType=function(a,b){return a.path_type?(null==a?void 0:a.is_parent_plan)||(null==a?void 0:a.is_plan)?k.YUT.ONBOARDING_PLAN:a.is_global&&b.query.encodedPathInfo?k.YUT.LEARNING_PLAN:k.YUT.PATH:a.collection_type===k.dLO.COLLECTION?k.YUT.COURSE:a.collection_type===k.dLO.SKILL_ASSESSMENT?k.Q5R.SKILL_ASSESSMENT:a.collection_type===k.dLO.ENTERPRISE_ASSESSMENT?k.Q5R.ENTERPRISE_ASSESSMENT:void 0},a}var h=g.prototype;return h.componentDidMount=function(){var a,b,c,d,e,f,g,h,i,j=this;(null===(a=this.props.userInfo)|| void 0===a?void 0:a.user_id)&&!(null===(b=this.props.userInfo)|| void 0===b?void 0:b.viewed_customize_fonts_feedback)&&window.addEventListener("beforeunload",this.onPageUnmount);var l=this.props.router.query,o=this.props,p=o.isVersions,q=o.router,r=ah(ag({},l),{redirect_info:{collection_title:null===(c=this.props.meta)|| void 0===c?void 0:c.title,default_redirect:null===(d=this.props.meta)|| void 0===d?void 0:d.deleted_course_lesson_redirect,additional_course_alternatives:null===(e=this.props.meta)|| void 0===e?void 0:e.additional_course_alternatives,transition_page_title:null===(f=this.props.meta)|| void 0===f?void 0:f.transition_page_title,page_titles:null===(g=this.props.meta)|| void 0===g?void 0:g.page_titles,is_redirectable:null===(h=this.props.meta)|| void 0===h?void 0:h.is_redirectable},meta:this.props.meta,is_draft_page:this.state.is_draft_page||p});(null===(i=q.asPath)|| void 0===i?void 0:i.lastIndexOf("/preview"))!== -1&&q.replace(q.asPath.replace("/preview","")),!Object.keys(this.props.collection).length&&Object.keys(l).length?(this.props.dispatch((0,m._N)({params:r,router:q,disableAllRedirections:this.props.disableAllRedirections})).then(function(){var a,b,c,d,e,f=j.props,g=f.collection,h=f.pageProps;j.purchaseFreeCollection();var i=!!h.page_id||j.props.isNonLessonPage,m=(null==g?void 0:null===(a=g.instance)|| void 0===a?void 0:a.details.collection_id)||j.props.collectionId,o=(null==g?void 0:null===(b=g.instance)|| void 0===b?void 0:b.details.author_id)||j.props.authorId,p=(null==g?void 0:null===(c=g.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.collection_type)||(null===(e=j.props.collectionDetailsSSR)|| void 0===e?void 0:e.collection_type);j.loggedInUser()&&o&&m&&i&&p!==k.dLO.SKILL_ASSESSMENT&&!(j.state.pageCompletionStatus.completionLoaded||j.state.pageCompletionStatus.completionLoading)&&j.setState(function(a){return{pageCompletionStatus:ah(ag({},a.pageCompletionStatus),{completionLoading:!0})}},function(){return j.props.dispatch((0,n.Os)(ah(ag({},l),{author_id:o,collection_id:m,callback:j.courseCompletionCallback})))})}),this.renderArticle=!0):Object.keys(this.props.collection).length&&this.purchaseFreeCollection()},h.componentDidUpdate=function(a,b){var c=this,d=this.props,e=d.collection,f=d.userInfo,g=d.router,h=d.pageProps,i=d.loader,j=d.isPrivateContent,l=parseInt(g.query.author_id)||(null==e?void 0:null===(o=e.instance)|| void 0===o?void 0:null===(p=o.details)|| void 0===p?void 0:p.author_id)||this.props.authorId;if((null===(q=a.collection.instance)|| void 0===q?void 0:q.owned_by_reader)!==(null===(r=e.instance)|| void 0===r?void 0:r.owned_by_reader)&&this.purchaseFreeCollection(),!this.updateOwnerShip||!i.isLoaded||i.isLoading||(null===(t=e.instance)|| void 0===t?void 0:t.owned_by_reader)||(this.updateOwnerShip(),this.updateOwnerShip=null),h.page_id!==a.pageProps.page_id&&h.page_id|| !!Object.keys(e).length!= !!Object.keys(a.collection).length&&Object.keys(e).length){var o,p,q,r,t,u,v,w,x,y,z,B,C,D,E,F,G,I,J,K,L,M=function(a,b,c,d,e,f){if(!Object.keys(a).length)return null;var g=(null==a?void 0:a.instance)||{},h=g.details||{},i=!(h.is_priced&&h.price&&h.discounted_price),j=h.toc||{},l=h.page_titles||[],m=j.categories||[],n=!!d&&d.user_id===c,o=!1,p=null;g.owned_by_reader||e||!h.is_priced||n||f||(o=!0,p={title:h.title,is_priced:h.is_priced,price:h.price,discounted_price:h.discounted_price,discounted_for_region:h.discounted_for_region||null});var q=m.reduce(function(a,b){return b.type===k.j1J.ASSESSMENT||b.type===k.j1J.PROJECT||b.type===k.j1J.CLOUD_LAB||b.type===k.j1J.EXTERNAL_ASSESSMENT||b.type===k.j1J.EXTERNAL_PROJECT?a.concat(b):a.concat(b.pages)},[]),r=q.findIndex(function(a){return a.id===b});if(r<0)return null;var s=void 0===q[r].is_lesson|| !0===q[r].is_lesson,t=null,u=null;g.owned_by_reader||i||(t=av(r,q,l,!0),u=av(r,q,l,!1));var v=null,w=null;return 0===r?(q.length>1&&(v={id:at(q[r+1].type)?q[r+1].page_id:q[r+1].id,title:l[q[r+1].id]||q[r+1].title,type:q[r+1].type,showPreviewLink:!!o&&!q[r+1].is_preview,author_id:q[r+1].author_id,collection_id:q[r+1].collection_id}),{previous:null,next:t||v,collection_meta:p,is_current_page_lesson:s}):r===q.length-1?(w={id:at(q[r-1].type)?q[r-1].page_id:q[r-1].id,title:l[q[r-1].id]||q[r-1].title,type:q[r-1].type,showPreviewLink:!!o&&!q[r-1].is_preview,author_id:q[r-1].author_id,collection_id:q[r-1].collection_id},{previous:u||w,next:null,type:q[r].type,collection_meta:p,is_current_page_lesson:s}):{previous:u||{id:at(q[r-1].type)?q[r-1].page_id:q[r-1].id,title:l[q[r-1].id]||q[r-1].title,type:q[r-1].type,showPreviewLink:!!o&&!q[r-1].is_preview,author_id:q[r-1].author_id,collection_id:q[r-1].collection_id},next:t||{id:at(q[r+1].type)?q[r+1].page_id:q[r+1].id,title:l[q[r+1].id]||q[r+1].title,type:q[r+1].type,showPreviewLink:!!o&&!q[r+1].is_preview,author_id:q[r+1].author_id,collection_id:q[r+1].collection_id},collection_meta:p,is_current_page_lesson:s}}(e,h.page_id,l,f,this.state.is_draft_page,this.props.isVersions);this.setState(ag({previousNextArticles:M},j?{enterprisePreviousNextContent:au(e,h.page_id,g,!!(null===(L=this.getPlanInfo())|| void 0===L?void 0:L.isPlanModule))}:{}))}var N=this.props.router.query,O=(null==e?void 0:null===(u=e.instance)|| void 0===u?void 0:null===(v=u.details)|| void 0===v?void 0:v.collection_id)||this.props.collectionId,P=(null===(w=this.props.collection)|| void 0===w?void 0:null===(x=w.instance)|| void 0===x?void 0:null===(y=x.details)|| void 0===y?void 0:y.collection_type)||(null===(z=this.props.collectionDetailsSSR)|| void 0===z?void 0:z.collection_type);this.loggedInUser()&&l&&O&&((null===(B=a.userInfo)|| void 0===B?void 0:B.user_id)!==(null==f?void 0:f.user_id)||h.page_id!==a.pageProps.page_id)&&h.page_id&&P!==k.dLO.SKILL_ASSESSMENT&&!this.state.pageCompletionStatus.completionLoading&&this.setState(function(a){return{pageCompletionStatus:ah(ag({},a.pageCompletionStatus),{completionLoading:!0,completionLoaded:!1})}},function(){return c.props.dispatch((0,n.Os)(ah(ag({},N),{author_id:l,collection_id:O,callback:c.courseCompletionCallback})))});var Q=ah(ag({},N),{redirect_info:{collection_title:null===(C=this.props.meta)|| void 0===C?void 0:C.title,default_redirect:null===(D=this.props.meta)|| void 0===D?void 0:D.deleted_course_lesson_redirect,page_titles:null===(E=this.props.meta)|| void 0===E?void 0:E.page_titles,additional_course_alternatives:null===(F=this.props.meta)|| void 0===F?void 0:F.additional_course_alternatives,transition_page_title:null===(G=this.props.meta)|| void 0===G?void 0:G.transition_page_title,is_redirectable:null===(I=this.props.meta)|| void 0===I?void 0:I.is_redirectable},meta:this.props.meta,is_draft_page:this.state.is_draft_page||this.props.isVersions}),R=null===(J=this.props.collection)|| void 0===J?void 0:null===(K=J.instance)|| void 0===K?void 0:K.details,S=N.courseUrlSlug?(null==R?void 0:R.url_slug)!==N.courseUrlSlug:(null==R?void 0:R.author_id)!==N.authorId||(null==R?void 0:R.collection_id)!==N.collectionId;Object.keys(a.collection).length>0&&0===Object.keys(this.props.collection).length&&Object.keys(N).length?(this.props.dispatch((0,m._N)({params:Q,router:g,disableAllRedirections:this.props.disableAllRedirections})).then(function(){var a,b,d,e,f,g=c.props.collection,h=(null==g?void 0:null===(a=g.instance)|| void 0===a?void 0:a.details.collection_id)||c.props.collectionId,i=(null==g?void 0:null===(b=g.instance)|| void 0===b?void 0:b.details.author_id)||c.props.authorId,j=(null==g?void 0:null===(d=g.instance)|| void 0===d?void 0:null===(e=d.details)|| void 0===e?void 0:e.collection_type)||(null===(f=c.props.collectionDetailsSSR)|| void 0===f?void 0:f.collection_type);c.loggedInUser()&&i&&h&&c.props.isNonLessonPage&&j!==k.dLO.SKILL_ASSESSMENT&&!(c.state.pageCompletionStatus.completionLoaded||c.state.pageCompletionStatus.completionLoading)&&c.setState(function(a){return{pageCompletionStatus:ah(ag({},a.pageCompletionStatus),{completionLoading:!0})}},function(){return c.props.dispatch((0,n.Os)(ah(ag({},N),{author_id:i,collection_id:h,callback:c.courseCompletionCallback})))})}),this.renderArticle=!0):R&&S&&this.props.dispatch((0,m.l3)());var T=null==R?void 0:R.url_slug,U=!!(null==R?void 0:R.is_global)||N.encodedPathInfo&&!!(null==R?void 0:R.is_standalone_module),X=String(null==R?void 0:R.path_author_id),Y=String(null==R?void 0:R.path_id),Z=!this.props.moduleCategories.loaded&&!this.props.moduleCategories.loading;if(Object.keys(this.props.collection).length>0&&Z&&(String(O)===this.props.router.query.collection_id&&String(l)===this.props.router.query.author_id||T===this.props.router.query.course_url_slug)&&U&&N.encodedPathInfo&&this.props.dispatch(H.W.load(X,Y,!1,!1,null)),b.workCompleted!==this.state.workCompleted&&this.state.workCompleted){var $,_,aa=null===($=this.props.userGamificationContext.value.data)|| void 0===$?void 0:$.userGamification;this.props.dispatch(A.n.show(s.fL,{title:(null===(_=this.props.meta)|| void 0===_?void 0:_.title)||"",url:(0,V.l4)().toString()+this.props.router.asPath,authorId:l,collectionId:O,workType:k.dLO.COURSE,callback:function(){var a;(null==aa?void 0:null===(a=aa.userStreak)|| void 0===a?void 0:a.streakIncremented)&&c.props.userGamificationContext.setShowLessonToast(W.rS.CURRENT_LESSON)}})),this.setState({workCompleted:!1})}},h.componentWillUnmount=function(){var a,b;(null===(a=this.props.userInfo)|| void 0===a?void 0:a.user_id)&&!(null===(b=this.props.userInfo)|| void 0===b?void 0:b.viewed_customize_fonts_feedback)&&window.removeEventListener("beforeunload",this.onPageUnmount),this.props.dispatch((0,m.l3)()),this.props.dispatch(B._.clear()),this.props.dispatch(I.R.hide(J.Z.DEPRECATED_CONTENT_BANNER))},h.getFetchPageAction=function(){return this.props.isVersions?p.x.load:q.m.load},h.render=function(){var a,b,c,d,e,g,h,i,j,m,n,p,q,s,u,x,z,A,B,C,D,F,G,H,I,J=this,L=this.props,M=L.isVersions,O=L.isMobileAgent,Q=L.isNewOnboardingEditor,R=L.isPrivateContent,S=this.state,T=S.markAsCompleteLoading,V=S.enterprisePreviousNextContent,W=S.previousNextArticles,ab=S.pageCompletionStatus,ac=S.resetCourseCompletionLoading,ad=this.props,ae=ad.collection,af=ad.userInfo,ai=ad.userInfoLoaded,at=ad.showSideBar,au=ad.snapshotProperties,av=ad.snapshotPropertiesLoading,aw=ad.snapshotPropertiesLoaded,ax=ad.pageURL,ay=ad.router,az=ad.lessonContent,aA=ad.pageProps,aB=ad.pageSummarySSR,aC=ad.collectionDetailsSSR,aD=ad.pageTocSSR,aE=ad.enableStandaloneCloudLabHomepage,aF=ay.query,aG=aA.author_id||parseInt(null==aF?void 0:aF.authorId),aH=aA.collection_id||parseInt(null==aF?void 0:aF.collectionId),aI=parseInt(null==aF?void 0:aF.pageId)||aA.page_id,aJ=(null==ae?void 0:null===(a=ae.instance)|| void 0===a?void 0:a.details)||aC||{},aK=this.getContentType(aJ,ay),aL=null==aJ?void 0:aJ.CodeThemes,aM=aL?{Code:null==aJ?void 0:null===(b=aJ.CodeThemes)|| void 0===b?void 0:b.Code,Markdown:null==aJ?void 0:null===(c=aJ.CodeThemes)|| void 0===c?void 0:c.Markdown,RunJS:null==aJ?void 0:null===(d=aJ.CodeThemes)|| void 0===d?void 0:d.RunJS,SPA:null==aJ?void 0:null===(e=aJ.CodeThemes)|| void 0===e?void 0:e.SPA,isForced:null!==(I=null==aJ?void 0:null===(g=aJ.CodeThemes)|| void 0===g?void 0:g.isForced)&& void 0!==I?I:t.Z}:{},aN=(null===(h=aJ.toc)|| void 0===h?void 0:h.categories)||[],aO=(0,v.QO)(aN).mandatoryLessons,aP=!aF.encodedPathInfo&&!!(null==ae?void 0:null===(i=ae.instance)|| void 0===i?void 0:null===(j=i.details)|| void 0===j?void 0:j.is_standalone_module),aQ=null==ae?void 0:null===(m=ae.instance)|| void 0===m?void 0:null===(n=m.details)|| void 0===n?void 0:n.collaboration_mode,aR="review"===aQ,aS=isNaN(Number(aE))?0:Number(aE),aT=!!(null==af?void 0:null===(p=af.email)|| void 0===p?void 0:p.endsWith("educative.io")),aU=(0,X.s)(af),aV=!!(0,Y.mg)(af,Y.e2.CAN_ACCESS_CLOUDLABS),aW=(0,l.Z)(aO,null==ae?void 0:ae.course_completion).percentCompleted,aX=this.getPlanInfo(),aY=null==aJ?void 0:null===(q=aJ.page_titles)|| void 0===q?void 0:q[null==aI?void 0:aI.toString()],aZ={userInfo:af,userInfoLoaded:ai,canToggleSidebar:!0,fetchPageAction:this.getFetchPageAction(),clearPageAction:this.clearPageAction(),previousNextArticles:W&&ag(ah(ag({},W),{setCompletion:this.setPageCompletionStatus,manageCompletion:this.manageCompletion}),ab),enterprisePreviousNextContent:V,default_themes:aM,collapsed:at,pageTitle:aY,logWidgetInteraction:this.logWidgetInteraction,collectionSideBarVisible:at,isInReviewerMode:aR,buyCertificate:this.buyCertificateLocal,handleClaimCertificate:this.handleClaimCertificateLocal,onNotesClick:this.onNotesClick,navigateToHighlight:function(a){(0,N.Gj)(aF,a),delete aF.scrollParams},handleSaveWidgetUserData:this.handleSaveWidgetUserData,planInfo:aX,lessonContent:az,pageSummarySSR:aB,collectionDetailsSSR:aC,pageTocSSR:aD},a$=(ay.asPath.startsWith("/modules/page")||ay.asPath.startsWith("/module/page")||ay.asPath.startsWith("/plan/page"))&&ay.asPath.endsWith("/template"),a_=new y.Z,a0=this.getPathShot(aN,aF.page_url_slug&&!ax.endsWith("/certificate")?a_.decode(aF.page_url_slug)[0].toString():aI),a1=a0?!!(null==az?void 0:null===(s=az.content)|| void 0===s?void 0:s.length):!!(null==az?void 0:null===(u=az.components)|| void 0===u?void 0:u.length);if(!a1&&(!Object.keys(ae).length||!this.renderArticle))return null;var a2=null==ae?void 0:null===(x=ae.instance)|| void 0===x?void 0:null===(z=x.details)|| void 0===z?void 0:z.is_priced,a3=null==ae?void 0:null===(A=ae.instance)|| void 0===A?void 0:A.owned_by_reader,a4=!!ai&&Number(null==af?void 0:af.user_id)===aG,a5=aZ.pageTitle;aw?a5=(null==au?void 0:au.title)||"":av&&(a5="");var a6=null==ae?void 0:null===(B=ae.instance)|| void 0===B?void 0:null===(C=B.details)|| void 0===C?void 0:C.collection_type,a7=aN.some(function(a){return a.pages.some(function(a){return(aI?a.id===aI:a_.encode(a.id)===aF.page_url_slug)&&a.is_preview})}),a8=(0,E.Z)(null==ay?void 0:ay.asPath),a9=a8===k.dLO.PATH&&aN.some(function(a){return[k.RIu.PATH_EXTERNAL_ASSESSMENT,k.RIu.PATH_EXTERNAL_PROJECT,].includes(a.type)}),ba={};return a0&&(ba=ah(ag({},aZ),{shotId:a0.page_id,shotUrl:a0.url,authorId:aG,collectionId:aH,pageId:aI,workType:a8,isCollectionPriced:a2,isCollectionOwnedByReader:a3,isCollectionOwnedByAuthor:a4,percentCompleted:aW,readerPreferences:this.props.readerPreferences,widgetsData:this.props.widgetsData})),(0,K.Wc)(this.props,!0),(0,f.jsx)(_.ZP,{children:(0,f.jsx)(Z.ns,{children:(0,f.jsxs)($.ZP,{children:[!a$&&!a9&&!O&&!aX.isPlanLesson&&!aX.isPlanModule&&!ay.query.menteeId&&!R&&!(0,P.VF)(a6)&&!Q&&(0,f.jsx)(r.Z,{contentLoading:null===(D=this.props.pageData)|| void 0===D?void 0:D.loading,isInReviewerMode:aR,markAsCompleteLoading:T,resetCourseCompletionLoading:ac,resetCollectionCompletionStatus:this.resetCollectionCompletionStatus,setCollectionCompletionStatus:this.setCollectionCompletionStatus,isPrivateContent:this.props.isPrivateContent,useModularTypescale:!0,collectionDetailsSSR:aC,sidebarCollapsed:!at}),(0,f.jsxs)("div",{className:"ed-grid-main major-second lg:minor-third learner-mode",children:[(0,f.jsx)("div",{id:"view-collection-article-content-root",className:"relative flex flex-1 flex-col overflow-hidden",style:{minWidth:"1px"},children:a0?(0,f.jsx)(aa.Z,{children:(0,f.jsx)(aq,ah(ag({},this.props,ba),{mode:"view",handleTimer:this.handleTimer,customizeFontCountdown:this.customizeFontCountdown,lessonsCompleted:this.state.lessonsCompleted,onLessonCompleted:this.onLessonCompleted,lessonsVisited:this.state.lessonsVisited,updateLessonsVisited:this.updateLessonsVisited,contentType:aK}))}):ax.endsWith("/assessment")||this.props.isSkillAssessment?(0,f.jsx)(al,ah(ag({},this.props,aZ),{mode:"view",type:k.sLn.COLLECTION,isCollectionPriced:a2,isCollectionOwnedByReader:a3,isCollectionOwnedByAuthor:a4,percentCompleted:aW,useModularTypescale:!0})):ax.endsWith("/project")||this.props.isStandaloneProject?(0,f.jsx)(am,ah(ag({},this.props,aZ),{mode:"view",type:k.sLn.COLLECTION,isCollectionPriced:a2,isCollectionOwnedByReader:a3,isCollectionOwnedByAuthor:a4,percentCompleted:aW,useModularTypescale:!0})):ax.endsWith("/cloudlab")&&(0,k.SKq)(aT,aU,aS,this.props.isB2BDomain,aV)&&a6===k.dLO.STANDALONE_CLOUD_LAB?(0,f.jsx)(an,ah(ag({},this.props,aZ),{mode:"view",type:k.sLn.COLLECTION,isCollectionPriced:a2,isCollectionOwnedByReader:a3,isCollectionOwnedByAuthor:a4,percentCompleted:aW})):ax.endsWith("/cloudlab")&&a6===k.dLO.STANDALONE_CLOUD_LAB&&aU&&!aV?(0,f.jsx)(as,{heading:"CloudLab is not included in your subscription.",message:"Please contact us at ".concat(this.props.isB2BDomain?"support@devpath.com":"support@educative.io")}):ax.endsWith("/cloudlab")&&a6===k.dLO.STANDALONE_CLOUD_LAB&&this.props.isB2BDomain?(0,f.jsx)(as,{heading:"Page not found!"}):ax.endsWith("/cloudlab")?(0,f.jsx)(ao,ah(ag({},this.props,aZ),{mode:"view",type:k.sLn.COLLECTION,isCollectionPriced:a2,isCollectionOwnedByReader:a3,isCollectionOwnedByAuthor:a4,percentCompleted:aW})):ax.endsWith("/certificate")?(0,f.jsx)(ap,ah(ag({},this.props,aZ),{percentCompleted:aW})):(0,o.Z)(ay.asPath)?(0,f.jsx)(aj,ah(ag({},this.props,aZ),{pageTitle:a5,percentCompleted:aW,showVersionHistory:!0,isCollectionPriced:a2,isCollectionOwnedByReader:a3,isCollectionOwnedByAuthor:a4,isTemplateView:a$,handleTimer:this.handleTimer,customizeFontCountdown:this.customizeFontCountdown,lessonsCompleted:this.state.lessonsCompleted,onLessonCompleted:this.onLessonCompleted,lessonsVisited:this.state.lessonsVisited,updateLessonsVisited:this.updateLessonsVisited,contentType:aK})):!a3&&!a7&&a2&&["/collection/page/[authorId]/[collectionId]/[pageId]","/courses/[courseUrlSlug]/[pageUrlSlug]","/path/page/[authorId]/[collectionId]/[pageId]","/path/lesson/[courseUrlSlug]/[pageUrlSlug]","/module/page/[encodedPathInfo]/[authorId]/[collectionId]/[pageId]","/module/lesson/[courseUrlSlug]/[pageUrlSlug]","/modules/page/[authorId]/[collectionId]/[pageId]","/plan/page/[authorId]/[collectionId]/[pageId]",].includes(ay.pathname)?(0,f.jsx)(ak,ah(ag({},this.props,aZ),{isCollectionPriced:a2,isCollectionOwnedByReader:a3,isCollectionOwnedByAuthor:a4,isStandaloneModule:aP,purchasingFreeCollection:this.state.purchasingFreeCollection,contentWidth:null===(F=this.props.readerPreferences)|| void 0===F?void 0:F.contentWidth,contentType:aK})):["/collection/page/[authorId]/[collectionId]/[pageId]","/courses/[courseUrlSlug]/[pageUrlSlug]","/path/page/[authorId]/[collectionId]/[pageId]","/path/lesson/[courseUrlSlug]/[pageUrlSlug]","/module/page/[encodedPathInfo]/[authorId]/[collectionId]/[pageId]","/module/lesson/[courseUrlSlug]/[pageUrlSlug]","/modules/page/[authorId]/[collectionId]/[pageId]","/plan/page/[authorId]/[collectionId]/[pageId]","/plan/[planAuthorId]/[planId]/preview","/module/standalone/[moduleAuthorId]/[moduleId]/draft",].includes(ay.pathname)&&(0,f.jsx)(U.ZP,{children:(0,f.jsx)(aj,ah(ag({},this.props,aZ),{mode:"view",percentCompleted:aW,isCollectionPriced:a2,isCollectionOwnedByReader:a3,isCollectionOwnedByAuthor:a4,isStandaloneModule:aP,useModularTypescale:!0,isTemplateView:a$,handleTimer:this.handleTimer,customizeFontCountdown:this.customizeFontCountdown,lessonsCompleted:this.state.lessonsCompleted,onLessonCompleted:this.onLessonCompleted,lessonsVisited:this.state.lessonsVisited,updateLessonsVisited:this.updateLessonsVisited,contentType:aK}))})}),M&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ar,{}),(0,f.jsx)(w.Z,{authorId:parseInt(aG,10),collectionId:parseInt(aH,10),pageId:parseInt(this.props.pageProps.page_id,10),documentType:k.qen.COLLECTION_LESSON,workType:null==ae?void 0:null===(G=ae.instance)|| void 0===G?void 0:null===(H=G.details)|| void 0===H?void 0:H.work_type,wrappedComponentRef:function(a){return J.versionHistorySidebar=a}})]})]})]})})})},g}(g.Component);az.defaultProps={disableAllRedirections:!1};var aA=function(a){var b=(0,ab.ET)(),c=g.useContext(W.so);return(0,f.jsx)(az,ah(ag({},a),{readerPreferences:b,userGamificationContext:c}))},aB=function(a){return(0,f.jsx)(ab.eQ,{children:(0,f.jsx)(aA,ag({},a))})};b.default=(0,x.Z)((0,z.withRouter)((0,L.Z)(ay(aB))));var aC=ay(aB)},50150:function(a,b,c){var d=c(20348),e=c(89703),f=c(10531),g=c(32084),h=c(23084);function i(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){i(a,b,c[b])})}return a}function l(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var n=function(a){return function(b){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}(o,b);var c,e,n=(c=o,e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,b,d,f,g=j(c);if(e){var h=j(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return b=this,(d=f)&&("object"==(a=d,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof d)?d:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(b)});function o(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,o),a=n.apply(this,arguments),a.startTime=null,a.endTime=null,a.idleTime=0,a.allowTimeAddition=!1,a.intervalCounter=0,a.pageVisible=!0,a.intervalVariable=null,a.idleTimerRef=null,a.widgetTimes={},a.initializeAll=function(){a.startTime=null,a.endTime=null,a.idleTime=0,a.allowTimeAddition=!1,a.intervalCounter=0,a.pageVisible=!0,a.intervalVariable=null,a.widgetTimes={}},a.updateIdleTime=function(){a.allowTimeAddition&&a.idleTimerRef&&(a.idleTime+=Math.round(new Date().getTime()-a.idleTimerRef.getLastActiveTime()-a.idleTimerRef.props.timeout),a.allowTimeAddition=!1)},a.intervalCounterCB=function(){a.intervalCounter++},a.widgetIntervalCounterCB=function(b){return function(){return!!a.widgetTimes[b]&&a.widgetTimes[b].timeCounter++}},a.onActive=function(b){a.pageVisible&&(a.updateIdleTime(),a.initializeAllIntervals())},a.onIdle=function(b){a.allowTimeAddition=!0,a.clearAllIntervals()},a.initializeAllIntervals=function(){null===a.intervalVariable&&(a.intervalVariable=setInterval(a.intervalCounterCB,1e3)),Object.keys(a.widgetTimes).forEach(function(b){!a.widgetTimes[b].intervalVariable&&a.widgetTimes[b].inView&&(a.widgetTimes[b].intervalVariable=setInterval(a.widgetIntervalCounterCB(b),1e3))})},a.clearAllIntervals=function(){clearInterval(a.intervalVariable),a.intervalVariable=null,Object.keys(a.widgetTimes).forEach(function(b){clearInterval(a.widgetTimes[b].intervalVariable),a.widgetTimes[b].intervalVariable=null})},a.logPageTime=function(b,c,d,e,f){var g=arguments.length>5&& void 0!==arguments[5]?arguments[5]:null,j=arguments.length>6&& void 0!==arguments[6]?arguments[6]:null,k=arguments.length>7&& void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&& void 0!==arguments[8]?arguments[8]:null,m=arguments.length>9?arguments[9]:void 0,n=arguments.length>10&& void 0!==arguments[10]?arguments[10]:null;if(e&&(null==b?void 0:b.user_id)){var o="".concat(e),p=i({},o,{start_time:a.startTime,end_time:a.endTime,idle_time:a.idleTime,time_counter:a.intervalCounter,question_id:g,project_component_id:j,project_attempt_id:n});f((0,h.VY)({author_id:c,collection_id:d,payload:p,path_id:k,path_author_id:l,workType:m}))}},a.logWidgetsTime=function(b,c,d,e,f,g,j,m){var n=arguments.length>8&& void 0!==arguments[8]?arguments[8]:null,o=arguments.length>9&& void 0!==arguments[9]?arguments[9]:null;if(!e&&d){var p=Object.keys(a.widgetTimes).reduce(function(b,c){return l(k({},b),i({},c,{time_spent:Math.trunc(a.widgetTimes[c].timeCounter),type:a.widgetTimes[c].type}))},{}),q={author_id:b,collection_id:c,page_id:d,is_draft_page:e,interaction_map:JSON.stringify(p),path_id:g,path_author_id:j,workType:m,project_component_id:n,project_attempt_id:o};f((0,h.M1)(q))}},a.dispatchLogTime=function(b,c,d,e,f,g,h,i,j,k,l){var m=arguments.length>11&& void 0!==arguments[11]?arguments[11]:null;a.startTime&&(a.endTime=new Date().getTime(),a.updateIdleTime(),a.logPageTime(b,c,d,e,g,h,k,i,j,l,m),a.logWidgetsTime(c,d,e,f,g,i,j,l,k,m))},a.onPageMount=function(){a.initializeAll(),a.startTime=new Date().getTime(),a.initializeAllIntervals()},a.onPageUnmount=function(b,c,d,e,f,g){var h=arguments.length>6&& void 0!==arguments[6]?arguments[6]:void 0,i=arguments.length>7&& void 0!==arguments[7]?arguments[7]:void 0,j=arguments.length>8&& void 0!==arguments[8]?arguments[8]:void 0,k=arguments.length>9&& void 0!==arguments[9]?arguments[9]:void 0,l=arguments.length>10&& void 0!==arguments[10]?arguments[10]:void 0,m=arguments.length>11&& void 0!==arguments[11]?arguments[11]:void 0;return a.clearAllIntervals(),a.dispatchLogTime(b,c,d,e,f,g,h,j,k,i,l,m),!0},a.pageVisibilityChange=function(b){a.pageVisible=b,b?a.initializeAllIntervals():a.clearAllIntervals()},a.componentVisibilityChange=function(b,c,d){c in a.widgetTimes||(a.widgetTimes[c]={inView:b,type:d,timeCounter:0,intervalVariable:null}),a.widgetTimes[c].inView=b,b?a.widgetTimes[c].intervalVariable||(a.widgetTimes[c].intervalVariable=setInterval(a.widgetIntervalCounterCB(c),1e3)):(clearInterval(a.widgetTimes[c].intervalVariable),a.widgetTimes[c].intervalVariable=null)},a}return o.prototype.render=function(){var b=this;return(0,d.jsx)(g.Z,{onIdle:this.onIdle,onActive:this.onActive,debounce:250,timeout:3e4,ref:function(a){b.idleTimerRef=a},children:(0,d.jsx)(f.Z,{onChange:this.pageVisibilityChange,children:(0,d.jsx)(a,l(k({},this.props),{onPageMount:this.onPageMount,onPageUnmount:this.onPageUnmount,componentVisibilityChange:this.componentVisibilityChange}))})})},o}(e.Component)};b.Z=n},84487:function(a,b,c){c.d(b,{WE:function(){return h},mP:function(){return g},nZ:function(){return x},uv:function(){return i}});var d,e,f,g,h,i,j=c(18154),k=c.n(j),l=c(20348),m=c(37513),n=c(89703);function o(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function p(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function q(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){p(f,d,e,g,h,"next",a)}function h(a){p(f,d,e,g,h,"throw",a)}g(void 0)})}}function r(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function s(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){r(a,b,c[b])})}return a}function t(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}(d=g||(g={}))[d.ACTIVE=8001]="ACTIVE",d[d.DELETED=8002]="DELETED",d[d.RESOLVED=8003]="RESOLVED",d[d.BLOCKED=8004]="BLOCKED",d[d.FLAGGED=8005]="FLAGGED",d[d.SOLUTION=8006]="SOLUTION",(e=h||(h={}))[e.NORMAL=102]="NORMAL",e[e.BLOCKER=103]="BLOCKER",(f=i||(i={}))[f.ORGANIZATION=101]="ORGANIZATION",f[f.PRIVATE=102]="PRIVATE";var u=function(a,b,c,d){var e,f=(null!==(e=a.slice(b+1))&& void 0!==e?e:[]).findIndex(function(a){return a.comment_type===c&&a.status===d});return -1!==f?f+b+1:-1===(f=a.findIndex(function(a){return a.comment_type===c&&a.status===d}))?0:f},v=function(a){var b={};return a.forEach(function(a){var c=Object.keys(a.comment_data_map)[0];if(c){var d=Object.values(a.comment_data_map)[0];d.commentId=a.id,b[c]?b[c].push(d):b[c]=[d]}}),{selections:b}},w={showDiscussion:!1,data:[],discussionIndex:0,selectedType:h.NORMAL,countMap:{},loading:!1,loaded:!1,startDiscussion:!1,documentKey:"",showDiscussionsInPortal:!1,selectionId:"",selectedStatus:g.ACTIVE,selection:{},allSelections:{selections:{}},accessLevel:i.ORGANIZATION,isCommentSending:!1,userSupervisor:[],workType:""},x=n.createContext({value:w,clearState:function(){},selectNext:function(){},selectDiscussionIndex:function(a){},selectPrevious:function(){},show:function(){arguments.length>0&& void 0!==arguments[0]&&arguments[0]},showDiscussionsInPortal:function(a,b){},hide:function(){},load:function(a,b,c,d,e){},setType:function(a){},sendComment:function(a,b,c,d,e,f,g,h,i){},sendReply:function(a,b,c,d,e,f,g,h,i){},selectStatus:function(a,b){},setSelection:function(a){},setAccessLevel:function(a){},setCommentSending:function(a){}}),y=function(a){var b,c,d=a.children,e=a.initialState,f=(b=n.useState(void 0===e?w:e),c=2,function(a){if(Array.isArray(a))return a}(b)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(b,c)||function a(b,c){if(b){if("string"==typeof b)return o(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return o(b,c)}}(b,c)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=f[0],j=f[1],p=function(a){var b={};return a.map(function(a){return b[a.comment_type]=(b[a.comment_type]||0)+1,b[a.status]=(b[a.status]||0)+1,b}),b},r=function(a){return j(function(b){return t(s({},b),{selection:a})}),!0},y=function(a,b,c,d,e,f){j(function(a){return t(s({},a),{loading:!0,loaded:!1,documentKey:c})});var g="/api/document/".concat(c,"/organization/").concat(a,"/").concat(b,"/").concat(f,"/").concat(d,"/").concat(e,"/comments");(0,m.Z)({url:g,type:"GET"}).then(function(a){var b=JSON.parse(a),d=p(b.comments),e=v(b.comments);j(function(a){return t(s({},a),{data:b.comments,selectedType:h.BLOCKER,countMap:d,loading:!1,loaded:!0,documentKey:c,allSelections:e,workType:f})})});var i="/api/enterprise/".concat(f,"/").concat(d,"/").concat(e,"/organization/").concat(a,"/get-supervisor-info");(0,m.Z)({url:i,type:"GET"}).then(function(a){var b=JSON.parse(a);j(function(a){return t(s({},a),{userSupervisor:b.supervisor_data})})})},z=function(a){var b=s({},i);b.data[b.discussionIndex].is_resolved=!0,b.data[b.discussionIndex].status=g.RESOLVED,b.data[b.discussionIndex].resolution_reply_id=a;var c=p(b.data);return j(t(s({},b),{countMap:c})),!0};return(0,l.jsx)(x.Provider,{value:{value:i,clearState:function(){j(t(s({},w),{documentKey:i.documentKey}))},selectDiscussionIndex:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:0;j(function(b){return t(s({},b),{discussionIndex:a})})},selectStatus:function(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];j(function(c){var d=c.discussionIndex;return b&&(d=u(c.data,-1,c.selectedType,a)),t(s({},c),{selectedStatus:a,discussionIndex:d})})},selectNext:function(){var a=u(i.data,i.discussionIndex,i.selectedType,i.selectedStatus);j(function(b){return t(s({},b),{discussionIndex:a})})},selectPrevious:function(){var a=i.data.slice().reverse(),b=u(a,a.length-(i.discussionIndex+1),i.selectedType,i.selectedStatus);j(function(c){return t(s({},c),{discussionIndex:a.length-(b+1)})})},showDiscussionsInPortal:function(){var a=arguments.length>0&& void 0!==arguments[0]&&arguments[0],b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"";j(function(c){return t(s({},c),{showDiscussionsInPortal:a,selectionId:b,showDiscussion:a})})},show:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{startDiscussion:!1};j(function(b){return t(s({},b),{showDiscussion:!a.startDiscussion,startDiscussion:a.startDiscussion})})},hide:function(){j(function(a){return t(s({},a),{showDiscussion:!1,showDiscussionsInPortal:!1,selectionId:"",startDiscussion:!1})})},setType:function(a){j(t(s({},i),{selectedType:a}))},load:y,sendComment:function(a,b,c,d,e,f,g,h,l){return q(k().mark(function n(){var o;return k().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return o=s({},i.selection),r({}),j(function(a){return t(s({},a),{isCommentSending:!0})}),k.prev=3,k.next=6,(0,m.Z)({url:"/api/document/".concat(a,"/comment"),type:"POST",data:{md_text:b,organization_id:c,comment_type:d,status:e,mentee_id:f,path_author_id:g,path_id:h,comment_data_map:JSON.stringify(o),access_level:i.accessLevel,work_type:i.workType}});case 6:k.next=12;break;case 8:k.prev=8,k.t0=k.catch(3),r(o),l(o);case 12:y(c,f,a,g,h,i.workType);case 13:case"end":return k.stop()}},n,null,[[3,8]])}))()},sendReply:function(a,b,c,d,e,f,h,i,j){return q(k().mark(function l(){var n,o;return k().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,(0,m.Z)({url:"/api/document/".concat(a,"/comment/").concat(j,"/reply"),type:"POST",data:{md_text:b,organization_id:c,comment_type:d,status:e,mentee_id:f,path_author_id:h,path_id:i}});case 2:o=JSON.parse(n=k.sent),e===g.RESOLVED&&z(o.reply_id);case 5:case"end":return k.stop()}},l)}))()},setSelection:r,setAccessLevel:function(a){j(function(b){return t(s({},b),{accessLevel:a})})},setCommentSending:function(){var a=arguments.length>0&& void 0!==arguments[0]&&arguments[0];j(function(b){return t(s({},b),{isCommentSending:a})})}},children:d})};b.ZP=y},63130:function(a,b,c){c.d(b,{ET:function(){return q},WY:function(){return r},eQ:function(){return p}});var d=c(20348),e=c(89703),f=c(37513),g=c(43664),h=c(17762);function i(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var j=function(a){return"userdata/map/".concat("reader_preferences","_").concat(a)},k=function(a){var b=a.userId,c=a.preferences,d=j(b);return(0,f.Z)({url:"/api/".concat(d),type:"POST",data:{map_key_val:JSON.stringify(c)}})},l=function(a){var b=j(a);return(0,f.Z)({url:"/api/".concat(b),type:"GET"})},m={themes:null},n=(0,e.createContext)(m),o=(0,e.createContext)({updateReaderPreferences:function(a){},setReaderPreferencesAction:function(a){},getReaderPreferencesAction:function(a){}}),p=function(a){var b=a.children,c=(0,e.useState)(m),f=c[0],j=c[1],p=function(a){j(function(b){return function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){i(a,b,c[b])})}return a}({},b,a)})},q=(0,h.TL)(),r=function(a){j(null==a?void 0:a.preferences),k(a).catch(function(a){return(0,g.rU)(a,q,null,[404])})},s=function(a){l(a.user_id).then(function(a){p(JSON.parse(a))}).catch(function(a){return(0,g.rU)(a,q,null,[404])})};return(0,d.jsx)(n.Provider,{value:f,children:(0,d.jsx)(o.Provider,{value:{updateReaderPreferences:p,setReaderPreferencesAction:r,getReaderPreferencesAction:s},children:b})})},q=function(){return e.useContext(n)},r=function(){return e.useContext(o)}},58781:function(a,b,c){c.d(b,{Gq:function(){return i},J3:function(){return g}});var d=c(20348),e=c(89703);function f(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var g=e.createContext({activeTermID:"",setActiveTermID:function(a){}}),h=function(a){var b,c,h=a.children,i=(b=e.useState(""),c=2,function(a){if(Array.isArray(a))return a}(b)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(b,c)||function a(b,c){if(b){if("string"==typeof b)return f(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return f(b,c)}}(b,c)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),j=i[0],k=i[1];return(0,d.jsx)(g.Provider,{value:{activeTermID:j,setActiveTermID:function(a){k(a)}},children:h})};b.ZP=h;var i=function(){return(0,e.useContext)(g)}},45514:function(a,b,c){c.d(b,{uN:function(){return H},Gj:function(){return G}});var d,e,f=c(18154),g=c.n(f),h=c(51901),i=c(67699),j=c(90625),k=c(84334),l=c(30833),m=c(26744),n=c(96865),o=c(89763),p=c(19132),q=c(93886),r=c(76133),s=c(86932),t=c(42448);function u(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var v=(u(d={},l.EX5,"ao4hjqrpsq-uc.a.run.app"),u(d,l.LEw,"h33gu26uaa-uc.a.run.app"),d),w=!!(t.env.GAE_VERSION&&t.env.GOOGLE_CLOUD_PROJECT&&t.env.GAE_SERVICE),x=c(19400),y=c(64577);function z(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function A(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function B(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function C(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||D(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(a,b){if(a){if("string"==typeof a)return z(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return z(a,b)}}var E,F,G=function(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];if(null==a?void 0:a.scrollParams){var c=JSON.parse(null==a?void 0:a.scrollParams),d=c.scroll,e=c.scrollId;if((0,q.gx)(d)){var f,g=document.querySelectorAll("[data-id='".concat(e,"']"));if(!g.length){if(b)throw Error(r.pX.missingHighlight);return}Array.from(g).forEach(function(a){a.style.backgroundColor=h.colors.warning.DEFAULT,a.style.transition="3s",setTimeout(function(){return a.style.backgroundColor=null},2e3)});var i=5,j=window.pageYOffset+(null===(f=g[0])|| void 0===f?void 0:f.getBoundingClientRect().top);if(!j)return;var l=j-k.WG-i;window.scroll({top:l,behavior:"smooth"})}}},H=function(a,b,c,d,e,f,g,h,k){var q,r,s,t=arguments.length>9&& void 0!==arguments[9]?arguments[9]:null,u=e.query.page_id||f.page_id,v=e.query.collection_id||f.collection_id||g.collectionId,w=e.query.author_id||f.author_id||g.authorId,x=null==g?void 0:null===(q=g.instance)|| void 0===q?void 0:q.details.path_author_id,y=null==g?void 0:null===(r=g.instance)|| void 0===r?void 0:r.details.path_id;if(!d){if((null==f?void 0:f.item_type)!==l.RIu.SHOT){var z=v?(0,j.Z)({authorId:w,collectionId:v,id:u,customWorkType:(0,p.Z)(e.asPath),pathAuthorId:x,pathId:y}).viewUrl.href:"/page/".concat(w,"/").concat(u);(0,o.qP)(o.f2.SIGNUP,o.bt.SIGNUP_INIT_SAVE_WIDGET_USERDATA,z),k(n.n.show(m.ym,{ru:z,title:"Login to save progress"}))}return}var A=null===(s=h.find(function(a){var c;return(null===(c=a.content)|| void 0===c?void 0:c.comp_id)===b}))|| void 0===s?void 0:s.type,C=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){B(a,b,c[b])})}return a}({compId:b,userId:d},(null==f?void 0:f.item_type)===l.RIu.LESSON?{pageId:f.external_page_id,collectionId:f.external_collection_id,authorId:f.external_author_id}:(null==f?void 0:f.item_type)===l.RIu.SHOT?{shotId:f.shot_id}:(null==f?void 0:f.current_attempt)?{pageId:u,collectionId:v,authorId:w,currentAttempt:f.current_attempt}:{pageId:u,collectionId:v,authorId:w},A&&{widgetType:A});k((0,i.ls)(a,C,{reset:c},(null==f?void 0:f.item_type)===l.RIu.SHOT?l.RIu.SHOT:null)),(t||h).forEach(function(a){var d;if((null==a?void 0:null===(d=a.content)|| void 0===d?void 0:d.comp_id)===b){var e=c?o.bt.INTERACTION_RESET_WIDGET_USERDATA:o.bt.INTERACTION_SAVE_WIDGET_USERDATA;(0,o.qP)(o.f2.INTERACTION,e,a.type)}})},I=function(a,b){var c,d=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:c.transition_page_status;return d===l.qYj.DEPENDS_ON_LEARNER_PROGRESS?0===b:d===l.qYj.SHOW_TRANSITION_PAGE};E=g().mark(function a(b,c){var d,f,h,i,j,k,m,n,o;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=!1,a.prev=1,a.next=5,(0,s.D1)({author_id:String(b.authorId),backendProxyUrl:w?t.env.GOOGLE_CLOUD_PROJECT===l.EX5||t.env.CR?"https://".concat(t.env.GAE_VERSION,"---").concat(t.env.GAE_SERVICE,"-api-").concat(v[t.env.GOOGLE_CLOUD_PROJECT]):"http://".concat(t.env.GAE_VERSION,".").concat(t.env.GAE_SERVICE,"-api.").concat(t.env.GOOGLE_CLOUD_PROJECT,".uc.r.appspot.com"):null!==(e=t.env.LIVEDEV)&& void 0!==e?e:"http://localhost:8080",collection_id:String(b.collectionId),work_type:l.dLO.COLLECTION,cookies:Object.entries(c).map(function(a){var b=C(a,2),c=b[0],d=b[1];return"".concat(c,"=").concat(d)},"").join("; ")});case 5:m=JSON.parse(null!==(k=null==(j=a.sent)?void 0:j.data)&& void 0!==k?k:"{}"),n=(0,x.ZP)(null==m?void 0:null===(f=m.instance)|| void 0===f?void 0:null===(h=f.details)|| void 0===h?void 0:null===(i=h.toc)|| void 0===i?void 0:i.categories),o=(0,y.Z)(n,null==m?void 0:m.course_completion).percentCompleted,d=I(null!=m?m:{},o),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),410===a.t0.status&&(d=!0);case 16:return a.abrupt("return",d);case 17:case"end":return a.stop()}},a,null,[[1,13]])})},98317:function(a,b,c){c.d(b,{ZP:function(){return s},Wc:function(){return r}});var d=c(20348),e=c(30833);c(89703);var f=c(36670),g=function(a){var b=a.defaultRedirect,c=a.isRedirectSet,e=a.isLifeTimeAlaCarte,g=a.hasMultipleRedirects,h=a.authorId,i=a.collectionId,j=a.navigateToTransition,k=a.deletionTime,l="".concat(e?"This course is no longer available on our catalog and will not be updated. You can still access the course.":"This course is no longer available on our catalog and won't be accessible after ".concat(k,".")," ").concat(c?"We have ".concat(g?"":"a ","better recommendation").concat(g?"s":""," for you."):"Well soon come up with a better alternative for you.");return(0,d.jsxs)("div",{className:"flex flex-col items-center text-center lg:flex-row",children:[(0,d.jsx)("span",{children:l}),c&&(0,d.jsx)("div",{className:"mb-2 ml-0 mt-2 w-max rounded border border-solid border-gray-500 text-base font-bold text-white hover:text-white active:text-white lg:mb-0 lg:ml-1 lg:mt-0",children:(0,d.jsx)("a",{className:"m-0 flex h-9 w-[150px] justify-center p-0 no-underline focus:text-white",href:j?"".concat((0,f.Dp)(),"/transition/").concat(h,"/").concat(i):b.redirect_url_slug?"".concat((0,f.Dp)(),"/courses/").concat(b.redirect_url_slug):"".concat((0,f.Dp)(),"/collection/").concat(b.author_id,"/").concat(b.collection_id),children:(0,d.jsx)("p",{className:"m-0 self-center p-0",children:j?"View New Course".concat(g?"s":""):"Visit New Course"})})})]})},h=c(89753),i=c(19132),j=c(20829),k=c(21955),l=c(87268),m=c.n(l),n=c(34580),o=c.n(n);function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var q=function(a,b){var c=a.is_draft,d=a.router,f=(0,i.Z)(d.asPath)===e.dLO.MODULE;return b&&!c&&!f},r=function(a){var b,c,f,i,l,n,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T=arguments.length>1&& void 0!==arguments[1]&&arguments[1],U=a.dispatch,V=a.collection,W=a.router,X=a.author_id,Y=a.collection_id;X||(X=null===(R=a.pageProps)|| void 0===R?void 0:R.author_id,Y=null===(S=a.pageProps)|| void 0===S?void 0:S.collection_id);var Z="MARK_BANNER_".concat(T?"LESSON_":"").concat(X,"_").concat(Y),$=(null===(b=a.meta)|| void 0===b?void 0:b.is_marked_for_deletion)||(null===(c=a.ssrContent)|| void 0===c?void 0:null===(f=c.instance)|| void 0===f?void 0:f.details.is_marked_for_deletion),_=(null===(i=a.meta)|| void 0===i?void 0:i.metadata_status)===e.nec.DELETED||(null===(l=a.ssrContent)|| void 0===l?void 0:l.metadata_status)===e.nec.DELETED,aa=(null===(n=a.meta)|| void 0===n?void 0:null===(r=n.additional_course_alternatives)|| void 0===r?void 0:r.length)||(null===(s=a.ssrContent)|| void 0===s?void 0:null===(t=s.instance)|| void 0===t?void 0:null===(u=t.additional_course_alternatives)|| void 0===u?void 0:u.length),ab=(null===(v=a.meta)|| void 0===v?void 0:null===(w=v.deleted_course_lesson_redirect)|| void 0===w?void 0:w.author_id)||(null===(x=a.ssrContent)|| void 0===x?void 0:null===(y=x.instance)|| void 0===y?void 0:null===(z=y.default_redirect)|| void 0===z?void 0:z.author_id),ac=(null===(A=a.meta)|| void 0===A?void 0:null===(B=A.additional_course_alternatives)|| void 0===B?void 0:B.length)>1||(null===(C=a.ssrContent)|| void 0===C?void 0:null===(D=C.instance)|| void 0===D?void 0:null===(E=D.additional_course_alternatives)|| void 0===E?void 0:E.length)>1,ad=($||_)&&!h.rV(Z)&&X&&Y&&Object.keys(V).length&&((null===(F=V.instance)|| void 0===F?void 0:F.details.collection_id)===W.query.collectionId&&(null===(G=V.instance)|| void 0===G?void 0:G.details.author_id)===W.query.authorId||(null===(H=V.instance)|| void 0===H?void 0:H.details.url_slug)===W.query.course_url_slug)&&V.show_banner_on_deleted_course;m().extend(o());var ae,af,ag=m()(new Date(null==V?void 0:V.deletion_time)).format("MMM Do, YYYY"),ah=T?(ae=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){p(a,b,c[b])})}return a}({},null===(I=a.meta)|| void 0===I?void 0:I.deleted_course_lesson_redirect),af={redirect_url_slug:(null===(K=null===(J=a.meta)|| void 0===J?void 0:J.deleted_course_lesson_redirect.redirect_url_slug)|| void 0===K?void 0:K.split("/").length)>=2?null===(M=null===(L=a.meta)|| void 0===L?void 0:L.deleted_course_lesson_redirect.redirect_url_slug)|| void 0===M?void 0:M.split("/")[0]:(null===(N=a.meta)|| void 0===N?void 0:N.deleted_course_lesson_redirect.page_id)?null:null===(O=a.meta)|| void 0===O?void 0:O.deleted_course_lesson_redirect.redirect_url_slug},af=null!=af?af:{},Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(af)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(af)).forEach(function(a){Object.defineProperty(ae,a,Object.getOwnPropertyDescriptor(af,a))}),ae):null===(P=a.ssrContent)|| void 0===P?void 0:null===(Q=P.instance)|| void 0===Q?void 0:Q.default_redirect,ai={showBanner:!0,showCross:T,color:"bg-warning-dark",removeLeftMargin:!0,hideBanner:function(){U(j.R.hide(k.Z.DEPRECATED_CONTENT_BANNER)),h.LS(Z,"true")},dispatch:U,content:(0,d.jsx)(g,{defaultRedirect:ah,isLifeTimeAlaCarte:!(null==V?void 0:V.course_expiration_date),isRedirectSet:aa||ab,hasMultipleRedirects:aa&&ab||ac,navigateToTransition:aa,authorId:X,collectionId:Y,deletionTime:ag})};q(a,ad)&&U(j.R.show(k.Z.DEPRECATED_CONTENT_BANNER,ai))},s=function(a,b){var c=[e.dLO.STANDALONE_PROJECT,e.dLO.COLLECTION,e.dLO.PATH,];return(0,d.jsxs)("div",{"data-testid":"github-test-1",className:"text-gray-300",children:["".concat(c.includes(a)?"This ".concat((0,e.eiC)(a)," is"):"Paths are"," not available in "),(0,d.jsx)("span",{className:"cursor-pointer text-primary-lightP1 dark:text-primary-lightP1 dark:hover:text-dark-contrastText",onClick:function(){return b.push("/learn/home")},children:"GitHub Student Pack"})," ",". Upgrade to"," ",(0,d.jsx)("span",{className:"cursor-pointer text-primary-lightP1 dark:text-primary-lightP1 dark:hover:text-dark-contrastText",onClick:function(){return b.push("/unlimited")},children:"get full access."})]})}},47129:function(a,b,c){c.d(b,{TW:function(){return k},ZI:function(){return i},ij:function(){return j},lV:function(){return h}});var d=c(41460),e=c(30833),f=c(89763),g=c(61625),h=function(a,b){var c,d,e,h,i=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:c.details.author_id,j=null==a?void 0:null===(d=a.instance)|| void 0===d?void 0:d.details.collection_id;(0,f.qP)(f.f2.BUY,f.bt.BUY_CERTIFICATE_INIT_LESSON_PAGE),b.push((e=i,h=j,"/checkout/".concat(g.vl.CERTIFICATE_PURCHASE,"?plan=").concat(e,"_").concat(h)))},i=function(a,b,c,f,g,h){return(0,d.Hy)(a,b,f).then(function(){return c.push("/certificates".concat(f===e.dLO.PATH?g===e.Ssr.LEARNING_PLAN?"#learning-plan":"#path":h===e.dLO.STANDALONE_PROJECT?"#standalone-project":""))}).catch(function(){return c.push("/certificates?author_id=".concat(a,"&work_id=").concat(b,"&work_type=").concat(f))})},j=function(a,b){return b.push("/verify-certificate/".concat(a))},k=function(a){return"".concat(a===e.dLO.COLLECTION?"Course":a===e.dLO.STANDALONE_PROJECT?"Project":a===e.Ssr.REGULAR?"Path":"Personalized Path")}},95654:function(a,b,c){var d,e,f,g,h=c(89703);function i(){return(i=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var j=function(a){return h.createElement("svg",i({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),d||(d=h.createElement("path",{d:"M11 7h2v2h-2V7ZM11 11h2v6h-2v-6Z",fill:"current",fillOpacity:.5})),e||(e=h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12a10 10 0 1 1 20 0 10 10 0 0 1-20 0Zm2 0a8 8 0 1 0 16 0 8 8 0 0 0-16 0Z",fill:"current",fillOpacity:.5})),f||(f=h.createElement("path",{d:"M11 7h2v2h-2V7ZM11 11h2v6h-2v-6Z",stroke:"current"})),g||(g=h.createElement("path",{clipRule:"evenodd",d:"M2 12a10 10 0 1 1 20 0 10 10 0 0 1-20 0Zm2 0a8 8 0 1 0 16 0 8 8 0 0 0-16 0Z",stroke:"current"})))};b.Z=j},25128:function(a,b,c){var d,e,f=c(89703);function g(){return(g=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var h=function(a){return f.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24},a),d||(d=f.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),e||(e=f.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm1-5a10 10 0 100 20 10 10 0 000-20zm0 18a8 8 0 110-16 8 8 0 010 16z"})))};b.Z=h},51571:function(a,b,c){var d,e=c(89703);function f(){return(f=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var g=function(a){return e.createElement("svg",f({width:34,height:34,viewBox:"0 0 34 34",xmlns:"http://www.w3.org/2000/svg"},a),d||(d=e.createElement("g",{stroke:"current",fill:"none"},e.createElement("circle",{cx:15,cy:15,r:15,transform:"translate(2 2)"}),e.createElement("path",{d:"M12 15l-2 2 2 2M15 12l2-2 2 2M19 22l-2 2-2-2M22 15l2 2-2 2M10 17h14M17 10v14"}))))};b.Z=g}}])
//# sourceMappingURL=5713-4cac0740f237b5b5.js.map